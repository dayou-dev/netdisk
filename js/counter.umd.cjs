(function(n,t){typeof exports=="object"&&typeof module<"u"?t(exports):typeof define=="function"&&define.amd?define(["exports"],t):(n=typeof globalThis<"u"?globalThis:n||self,t(n.Counter={}))})(this,function(exports){"use strict";var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getAugmentedNamespace(n){if(n.__esModule)return n;var t=n.default;if(typeof t=="function"){var i=function f(){if(this instanceof f){var s=[null];s.push.apply(s,arguments);var a=Function.bind.apply(t,s);return new a}return t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(n).forEach(function(f){var s=Object.getOwnPropertyDescriptor(n,f);Object.defineProperty(i,f,s.get?s:{enumerable:!0,get:function(){return n[f]}})}),i}async function*batch$1(n,t=1){let i=[];t<1&&(t=1);for await(const f of n)for(i.push(f);i.length>=t;)yield i.slice(0,t),i=i.slice(t);for(;i.length;)yield i.slice(0,t),i=i.slice(t)}var itBatch=batch$1;const batch=itBatch;async function*parallelBatch$1(n,t=1){for await(const i of batch(n,t)){const f=i.map(s=>s().then(a=>({ok:!0,value:a}),a=>({ok:!1,err:a})));for(let s=0;s<f.length;s++){const a=await f[s];if(a.ok)yield a.value;else throw a.err}}}var itParallelBatch=parallelBatch$1,isPlainObj=n=>{if(Object.prototype.toString.call(n)!=="[object Object]")return!1;const t=Object.getPrototypeOf(n);return t===null||t===Object.prototype};const isOptionObject=isPlainObj,{hasOwnProperty}=Object.prototype,{propertyIsEnumerable}=Object,defineProperty=(n,t,i)=>Object.defineProperty(n,t,{value:i,writable:!0,enumerable:!0,configurable:!0}),globalThis$1=commonjsGlobal,defaultMergeOptions={concatArrays:!1,ignoreUndefined:!1},getEnumerableOwnPropertyKeys=n=>{const t=[];for(const i in n)hasOwnProperty.call(n,i)&&t.push(i);if(Object.getOwnPropertySymbols){const i=Object.getOwnPropertySymbols(n);for(const f of i)propertyIsEnumerable.call(n,f)&&t.push(f)}return t};function clone(n){return Array.isArray(n)?cloneArray(n):isOptionObject(n)?cloneOptionObject(n):n}function cloneArray(n){const t=n.slice(0,0);return getEnumerableOwnPropertyKeys(n).forEach(i=>{defineProperty(t,i,clone(n[i]))}),t}function cloneOptionObject(n){const t=Object.getPrototypeOf(n)===null?Object.create(null):{};return getEnumerableOwnPropertyKeys(n).forEach(i=>{defineProperty(t,i,clone(n[i]))}),t}const mergeKeys=(n,t,i,f)=>(i.forEach(s=>{typeof t[s]>"u"&&f.ignoreUndefined||(s in n&&n[s]!==Object.getPrototypeOf(n)?defineProperty(n,s,merge(n[s],t[s],f)):defineProperty(n,s,clone(t[s])))}),n),concatArrays=(n,t,i)=>{let f=n.slice(0,0),s=0;return[n,t].forEach(a=>{const c=[];for(let e=0;e<a.length;e++)hasOwnProperty.call(a,e)&&(c.push(String(e)),a===n?defineProperty(f,s++,a[e]):defineProperty(f,s++,clone(a[e])));f=mergeKeys(f,a,getEnumerableOwnPropertyKeys(a).filter(e=>!c.includes(e)),i)}),f};function merge(n,t,i){return i.concatArrays&&Array.isArray(n)&&Array.isArray(t)?concatArrays(n,t,i):!isOptionObject(t)||!isOptionObject(n)?clone(t):mergeKeys(n,t,getEnumerableOwnPropertyKeys(t),i)}var mergeOptions$1=function(...n){const t=merge(clone(defaultMergeOptions),this!==globalThis$1&&this||{},defaultMergeOptions);let i={_:{}};for(const f of n)if(f!==void 0){if(!isOptionObject(f))throw new TypeError("`"+f+"` is not an Option Object");i=merge(i,{_:f},t)}return i._};const empty=new Uint8Array(0),toHex=n=>n.reduce((t,i)=>t+i.toString(16).padStart(2,"0"),""),fromHex=n=>{const t=n.match(/../g);return t?new Uint8Array(t.map(i=>parseInt(i,16))):empty},equals$1=(n,t)=>{if(n===t)return!0;if(n.byteLength!==t.byteLength)return!1;for(let i=0;i<n.byteLength;i++)if(n[i]!==t[i])return!1;return!0},coerce=n=>{if(n instanceof Uint8Array&&n.constructor.name==="Uint8Array")return n;if(n instanceof ArrayBuffer)return new Uint8Array(n);if(ArrayBuffer.isView(n))return new Uint8Array(n.buffer,n.byteOffset,n.byteLength);throw new Error("Unknown type, must be binary type")},isBinary=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),fromString$3=n=>new TextEncoder().encode(n),toString=n=>new TextDecoder().decode(n),bytes=Object.freeze(Object.defineProperty({__proto__:null,coerce,empty,equals:equals$1,fromHex,fromString:fromString$3,isBinary,toHex,toString},Symbol.toStringTag,{value:"Module"}));var encode_1=encode$6,MSB=128,REST=127,MSBALL=~REST,INT=Math.pow(2,31);function encode$6(n,t,i){t=t||[],i=i||0;for(var f=i;n>=INT;)t[i++]=n&255|MSB,n/=128;for(;n&MSBALL;)t[i++]=n&255|MSB,n>>>=7;return t[i]=n|0,encode$6.bytes=i-f+1,t}var decode$7=read,MSB$1=128,REST$1=127;function read(n,f){var i=0,f=f||0,s=0,a=f,c,e=n.length;do{if(a>=e)throw read.bytes=0,new RangeError("Could not decode varint");c=n[a++],i+=s<28?(c&REST$1)<<s:(c&REST$1)*Math.pow(2,s),s+=7}while(c>=MSB$1);return read.bytes=a-f,i}var N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63),length=function(n){return n<N1?1:n<N2?2:n<N3?3:n<N4?4:n<N5?5:n<N6?6:n<N7?7:n<N8?8:n<N9?9:10},varint$1={encode:encode_1,decode:decode$7,encodingLength:length},_brrp_varint=varint$1;const decode$6=(n,t=0)=>[_brrp_varint.decode(n,t),_brrp_varint.decode.bytes],encodeTo=(n,t,i=0)=>(_brrp_varint.encode(n,t,i),t),encodingLength=n=>_brrp_varint.encodingLength(n),varint=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$6,encodeTo,encodingLength},Symbol.toStringTag,{value:"Module"})),create=(n,t)=>{const i=t.byteLength,f=encodingLength(n),s=f+encodingLength(i),a=new Uint8Array(s+i);return encodeTo(n,a,0),encodeTo(i,a,f),a.set(t,s),new Digest(n,i,t,a)},decode$5=n=>{const t=coerce(n),[i,f]=decode$6(t),[s,a]=decode$6(t.subarray(f)),c=t.subarray(f+a);if(c.byteLength!==s)throw new Error("Incorrect length");return new Digest(i,s,c,t)},equals=(n,t)=>n===t?!0:n.code===t.code&&n.size===t.size&&equals$1(n.bytes,t.bytes);class Digest{constructor(t,i,f,s){this.code=t,this.size=i,this.digest=f,this.bytes=s}}const digest$1=Object.freeze(Object.defineProperty({__proto__:null,Digest,create,decode:decode$5,equals},Symbol.toStringTag,{value:"Module"})),from$1=({name:n,code:t,encode:i})=>new Hasher(n,t,i);class Hasher{constructor(t,i,f){this.name=t,this.code=i,this.encode=f}digest(t){if(t instanceof Uint8Array){const i=this.encode(t);return i instanceof Uint8Array?create(this.code,i):i.then(f=>create(this.code,f))}else throw Error("Unknown type, must be binary type")}}const hasher=Object.freeze(Object.defineProperty({__proto__:null,Hasher,from:from$1},Symbol.toStringTag,{value:"Module"})),sha=n=>async t=>new Uint8Array(await crypto.subtle.digest(n,t)),sha256$1=from$1({name:"sha2-256",code:18,encode:sha("SHA-256")}),sha512=from$1({name:"sha2-512",code:19,encode:sha("SHA-512")}),sha2=Object.freeze(Object.defineProperty({__proto__:null,sha256:sha256$1,sha512},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(sha2);var murmurhash3jsRevisitedExports={},murmurhash3jsRevisited={get exports(){return murmurhash3jsRevisitedExports},set exports(n){murmurhash3jsRevisitedExports=n}},murmurHash3jsExports={},murmurHash3js={get exports(){return murmurHash3jsExports},set exports(n){murmurHash3jsExports=n}};(function(n,t){(function(i,f){var s={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function a(d){if(!Array.isArray(d)&&!ArrayBuffer.isView(d))return!1;for(var w=0;w<d.length;w++)if(!Number.isInteger(d[w])||d[w]<0||d[w]>255)return!1;return!0}function c(d,w){return(d&65535)*w+(((d>>>16)*w&65535)<<16)}function e(d,w){return d<<w|d>>>32-w}function u(d){return d^=d>>>16,d=c(d,2246822507),d^=d>>>13,d=c(d,3266489909),d^=d>>>16,d}function h(d,w){d=[d[0]>>>16,d[0]&65535,d[1]>>>16,d[1]&65535],w=[w[0]>>>16,w[0]&65535,w[1]>>>16,w[1]&65535];var _=[0,0,0,0];return _[3]+=d[3]+w[3],_[2]+=_[3]>>>16,_[3]&=65535,_[2]+=d[2]+w[2],_[1]+=_[2]>>>16,_[2]&=65535,_[1]+=d[1]+w[1],_[0]+=_[1]>>>16,_[1]&=65535,_[0]+=d[0]+w[0],_[0]&=65535,[_[0]<<16|_[1],_[2]<<16|_[3]]}function p(d,w){d=[d[0]>>>16,d[0]&65535,d[1]>>>16,d[1]&65535],w=[w[0]>>>16,w[0]&65535,w[1]>>>16,w[1]&65535];var _=[0,0,0,0];return _[3]+=d[3]*w[3],_[2]+=_[3]>>>16,_[3]&=65535,_[2]+=d[2]*w[3],_[1]+=_[2]>>>16,_[2]&=65535,_[2]+=d[3]*w[2],_[1]+=_[2]>>>16,_[2]&=65535,_[1]+=d[1]*w[3],_[0]+=_[1]>>>16,_[1]&=65535,_[1]+=d[2]*w[2],_[0]+=_[1]>>>16,_[1]&=65535,_[1]+=d[3]*w[1],_[0]+=_[1]>>>16,_[1]&=65535,_[0]+=d[0]*w[3]+d[1]*w[2]+d[2]*w[1]+d[3]*w[0],_[0]&=65535,[_[0]<<16|_[1],_[2]<<16|_[3]]}function y(d,w){return w%=64,w===32?[d[1],d[0]]:w<32?[d[0]<<w|d[1]>>>32-w,d[1]<<w|d[0]>>>32-w]:(w-=32,[d[1]<<w|d[0]>>>32-w,d[0]<<w|d[1]>>>32-w])}function D(d,w){return w%=64,w===0?d:w<32?[d[0]<<w|d[1]>>>32-w,d[1]<<w]:[d[1]<<w-32,0]}function m(d,w){return[d[0]^w[0],d[1]^w[1]]}function b(d){return d=m(d,[0,d[0]>>>1]),d=p(d,[4283543511,3981806797]),d=m(d,[0,d[0]>>>1]),d=p(d,[3301882366,444984403]),d=m(d,[0,d[0]>>>1]),d}s.x86.hash32=function(d,w){if(s.inputValidation&&!a(d))return f;w=w||0;for(var _=d.length%4,v=d.length-_,C=w,A=0,T=3432918353,S=461845907,I=0;I<v;I=I+4)A=d[I]|d[I+1]<<8|d[I+2]<<16|d[I+3]<<24,A=c(A,T),A=e(A,15),A=c(A,S),C^=A,C=e(C,13),C=c(C,5)+3864292196;switch(A=0,_){case 3:A^=d[I+2]<<16;case 2:A^=d[I+1]<<8;case 1:A^=d[I],A=c(A,T),A=e(A,15),A=c(A,S),C^=A}return C^=d.length,C=u(C),C>>>0},s.x86.hash128=function(d,w){if(s.inputValidation&&!a(d))return f;w=w||0;for(var _=d.length%16,v=d.length-_,C=w,A=w,T=w,S=w,I=0,k=0,F=0,O=0,M=597399067,H=2869860233,W=951274213,G=2716044179,R=0;R<v;R=R+16)I=d[R]|d[R+1]<<8|d[R+2]<<16|d[R+3]<<24,k=d[R+4]|d[R+5]<<8|d[R+6]<<16|d[R+7]<<24,F=d[R+8]|d[R+9]<<8|d[R+10]<<16|d[R+11]<<24,O=d[R+12]|d[R+13]<<8|d[R+14]<<16|d[R+15]<<24,I=c(I,M),I=e(I,15),I=c(I,H),C^=I,C=e(C,19),C+=A,C=c(C,5)+1444728091,k=c(k,H),k=e(k,16),k=c(k,W),A^=k,A=e(A,17),A+=T,A=c(A,5)+197830471,F=c(F,W),F=e(F,17),F=c(F,G),T^=F,T=e(T,15),T+=S,T=c(T,5)+2530024501,O=c(O,G),O=e(O,18),O=c(O,M),S^=O,S=e(S,13),S+=C,S=c(S,5)+850148119;switch(I=0,k=0,F=0,O=0,_){case 15:O^=d[R+14]<<16;case 14:O^=d[R+13]<<8;case 13:O^=d[R+12],O=c(O,G),O=e(O,18),O=c(O,M),S^=O;case 12:F^=d[R+11]<<24;case 11:F^=d[R+10]<<16;case 10:F^=d[R+9]<<8;case 9:F^=d[R+8],F=c(F,W),F=e(F,17),F=c(F,G),T^=F;case 8:k^=d[R+7]<<24;case 7:k^=d[R+6]<<16;case 6:k^=d[R+5]<<8;case 5:k^=d[R+4],k=c(k,H),k=e(k,16),k=c(k,W),A^=k;case 4:I^=d[R+3]<<24;case 3:I^=d[R+2]<<16;case 2:I^=d[R+1]<<8;case 1:I^=d[R],I=c(I,M),I=e(I,15),I=c(I,H),C^=I}return C^=d.length,A^=d.length,T^=d.length,S^=d.length,C+=A,C+=T,C+=S,A+=C,T+=C,S+=C,C=u(C),A=u(A),T=u(T),S=u(S),C+=A,C+=T,C+=S,A+=C,T+=C,S+=C,("00000000"+(C>>>0).toString(16)).slice(-8)+("00000000"+(A>>>0).toString(16)).slice(-8)+("00000000"+(T>>>0).toString(16)).slice(-8)+("00000000"+(S>>>0).toString(16)).slice(-8)},s.x64.hash128=function(d,w){if(s.inputValidation&&!a(d))return f;w=w||0;for(var _=d.length%16,v=d.length-_,C=[0,w],A=[0,w],T=[0,0],S=[0,0],I=[2277735313,289559509],k=[1291169091,658871167],F=0;F<v;F=F+16)T=[d[F+4]|d[F+5]<<8|d[F+6]<<16|d[F+7]<<24,d[F]|d[F+1]<<8|d[F+2]<<16|d[F+3]<<24],S=[d[F+12]|d[F+13]<<8|d[F+14]<<16|d[F+15]<<24,d[F+8]|d[F+9]<<8|d[F+10]<<16|d[F+11]<<24],T=p(T,I),T=y(T,31),T=p(T,k),C=m(C,T),C=y(C,27),C=h(C,A),C=h(p(C,[0,5]),[0,1390208809]),S=p(S,k),S=y(S,33),S=p(S,I),A=m(A,S),A=y(A,31),A=h(A,C),A=h(p(A,[0,5]),[0,944331445]);switch(T=[0,0],S=[0,0],_){case 15:S=m(S,D([0,d[F+14]],48));case 14:S=m(S,D([0,d[F+13]],40));case 13:S=m(S,D([0,d[F+12]],32));case 12:S=m(S,D([0,d[F+11]],24));case 11:S=m(S,D([0,d[F+10]],16));case 10:S=m(S,D([0,d[F+9]],8));case 9:S=m(S,[0,d[F+8]]),S=p(S,k),S=y(S,33),S=p(S,I),A=m(A,S);case 8:T=m(T,D([0,d[F+7]],56));case 7:T=m(T,D([0,d[F+6]],48));case 6:T=m(T,D([0,d[F+5]],40));case 5:T=m(T,D([0,d[F+4]],32));case 4:T=m(T,D([0,d[F+3]],24));case 3:T=m(T,D([0,d[F+2]],16));case 2:T=m(T,D([0,d[F+1]],8));case 1:T=m(T,[0,d[F]]),T=p(T,I),T=y(T,31),T=p(T,k),C=m(C,T)}return C=m(C,[0,d.length]),A=m(A,[0,d.length]),C=h(C,A),A=h(A,C),C=b(C),A=b(A),C=h(C,A),A=h(A,C),("00000000"+(C[0]>>>0).toString(16)).slice(-8)+("00000000"+(C[1]>>>0).toString(16)).slice(-8)+("00000000"+(A[0]>>>0).toString(16)).slice(-8)+("00000000"+(A[1]>>>0).toString(16)).slice(-8)},n.exports&&(t=n.exports=s),t.murmurHash3=s})()})(murmurHash3js,murmurHash3jsExports),function(n){n.exports=murmurHash3jsExports}(murmurhash3jsRevisited);function base(n,t){if(n.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),f=0;f<i.length;f++)i[f]=255;for(var s=0;s<n.length;s++){var a=n.charAt(s),c=a.charCodeAt(0);if(i[c]!==255)throw new TypeError(a+" is ambiguous");i[c]=s}var e=n.length,u=n.charAt(0),h=Math.log(e)/Math.log(256),p=Math.log(256)/Math.log(e);function y(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var d=0,w=0,_=0,v=b.length;_!==v&&b[_]===0;)_++,d++;for(var C=(v-_)*p+1>>>0,A=new Uint8Array(C);_!==v;){for(var T=b[_],S=0,I=C-1;(T!==0||S<w)&&I!==-1;I--,S++)T+=256*A[I]>>>0,A[I]=T%e>>>0,T=T/e>>>0;if(T!==0)throw new Error("Non-zero carry");w=S,_++}for(var k=C-w;k!==C&&A[k]===0;)k++;for(var F=u.repeat(d);k<C;++k)F+=n.charAt(A[k]);return F}function D(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var d=0;if(b[d]!==" "){for(var w=0,_=0;b[d]===u;)w++,d++;for(var v=(b.length-d)*h+1>>>0,C=new Uint8Array(v);b[d];){var A=i[b.charCodeAt(d)];if(A===255)return;for(var T=0,S=v-1;(A!==0||T<_)&&S!==-1;S--,T++)A+=e*C[S]>>>0,C[S]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");_=T,d++}if(b[d]!==" "){for(var I=v-_;I!==v&&C[I]===0;)I++;for(var k=new Uint8Array(w+(v-I)),F=w;I!==v;)k[F++]=C[I++];return k}}}function m(b){var d=D(b);if(d)return d;throw new Error(`Non-${t} character`)}return{encode:y,decodeUnsafe:D,decode:m}}var src$4=base,_brrp__multiformats_scope_baseX=src$4;class Encoder{constructor(t,i,f){this.name=t,this.prefix=i,this.baseEncode=f}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor(t,i,f){if(this.name=t,this.prefix=i,i.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=i.codePointAt(0),this.baseDecode=f}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return or(this,t)}}class ComposedDecoder{constructor(t){this.decoders=t}or(t){return or(this,t)}decode(t){const i=t[0],f=this.decoders[i];if(f)return f.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const or=(n,t)=>new ComposedDecoder({...n.decoders||{[n.prefix]:n},...t.decoders||{[t.prefix]:t}});class Codec{constructor(t,i,f,s){this.name=t,this.prefix=i,this.baseEncode=f,this.baseDecode=s,this.encoder=new Encoder(t,i,f),this.decoder=new Decoder(t,i,s)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const from=({name:n,prefix:t,encode:i,decode:f})=>new Codec(n,t,i,f),baseX=({prefix:n,name:t,alphabet:i})=>{const{encode:f,decode:s}=_brrp__multiformats_scope_baseX(i,t);return from({prefix:n,name:t,encode:f,decode:a=>coerce(s(a))})},decode$4=(n,t,i,f)=>{const s={};for(let p=0;p<t.length;++p)s[t[p]]=p;let a=n.length;for(;n[a-1]==="=";)--a;const c=new Uint8Array(a*i/8|0);let e=0,u=0,h=0;for(let p=0;p<a;++p){const y=s[n[p]];if(y===void 0)throw new SyntaxError(`Non-${f} character`);u=u<<i|y,e+=i,e>=8&&(e-=8,c[h++]=255&u>>e)}if(e>=i||255&u<<8-e)throw new SyntaxError("Unexpected end of data");return c},encode$5=(n,t,i)=>{const f=t[t.length-1]==="=",s=(1<<i)-1;let a="",c=0,e=0;for(let u=0;u<n.length;++u)for(e=e<<8|n[u],c+=8;c>i;)c-=i,a+=t[s&e>>c];if(c&&(a+=t[s&e<<i-c]),f)for(;a.length*i&7;)a+="=";return a},rfc4648=({name:n,prefix:t,bitsPerChar:i,alphabet:f})=>from({prefix:t,name:n,encode(s){return encode$5(s,f,i)},decode(s){return decode$4(s,f,i,n)}}),identity$2=from({prefix:"\0",name:"identity",encode:n=>toString(n),decode:n=>fromString$3(n)}),identityBase=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$2},Symbol.toStringTag,{value:"Module"})),base2=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze(Object.defineProperty({__proto__:null,base2},Symbol.toStringTag,{value:"Module"})),base8=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze(Object.defineProperty({__proto__:null,base8},Symbol.toStringTag,{value:"Module"})),base10=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze(Object.defineProperty({__proto__:null,base10},Symbol.toStringTag,{value:"Module"})),base16=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze(Object.defineProperty({__proto__:null,base16,base16upper},Symbol.toStringTag,{value:"Module"})),base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$1=Object.freeze(Object.defineProperty({__proto__:null,base32,base32hex,base32hexpad,base32hexpadupper,base32hexupper,base32pad,base32padupper,base32upper,base32z},Symbol.toStringTag,{value:"Module"})),base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$1=Object.freeze(Object.defineProperty({__proto__:null,base36,base36upper},Symbol.toStringTag,{value:"Module"})),base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze(Object.defineProperty({__proto__:null,base58btc,base58flickr},Symbol.toStringTag,{value:"Module"})),base64$1=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$2=Object.freeze(Object.defineProperty({__proto__:null,base64:base64$1,base64pad,base64url,base64urlpad},Symbol.toStringTag,{value:"Module"})),alphabet=Array.from("ðŸš€ðŸªâ˜„ðŸ›°ðŸŒŒðŸŒ‘ðŸŒ’ðŸŒ“ðŸŒ”ðŸŒ•ðŸŒ–ðŸŒ—ðŸŒ˜ðŸŒðŸŒðŸŒŽðŸ‰â˜€ðŸ’»ðŸ–¥ðŸ’¾ðŸ’¿ðŸ˜‚â¤ðŸ˜ðŸ¤£ðŸ˜ŠðŸ™ðŸ’•ðŸ˜­ðŸ˜˜ðŸ‘ðŸ˜…ðŸ‘ðŸ˜ðŸ”¥ðŸ¥°ðŸ’”ðŸ’–ðŸ’™ðŸ˜¢ðŸ¤”ðŸ˜†ðŸ™„ðŸ’ªðŸ˜‰â˜ºðŸ‘ŒðŸ¤—ðŸ’œðŸ˜”ðŸ˜ŽðŸ˜‡ðŸŒ¹ðŸ¤¦ðŸŽ‰ðŸ’žâœŒâœ¨ðŸ¤·ðŸ˜±ðŸ˜ŒðŸŒ¸ðŸ™ŒðŸ˜‹ðŸ’—ðŸ’šðŸ˜ðŸ’›ðŸ™‚ðŸ’“ðŸ¤©ðŸ˜„ðŸ˜€ðŸ–¤ðŸ˜ƒðŸ’¯ðŸ™ˆðŸ‘‡ðŸŽ¶ðŸ˜’ðŸ¤­â£ðŸ˜œðŸ’‹ðŸ‘€ðŸ˜ªðŸ˜‘ðŸ’¥ðŸ™‹ðŸ˜žðŸ˜©ðŸ˜¡ðŸ¤ªðŸ‘ŠðŸ¥³ðŸ˜¥ðŸ¤¤ðŸ‘‰ðŸ’ƒðŸ˜³âœ‹ðŸ˜šðŸ˜ðŸ˜´ðŸŒŸðŸ˜¬ðŸ™ƒðŸ€ðŸŒ·ðŸ˜»ðŸ˜“â­âœ…ðŸ¥ºðŸŒˆðŸ˜ˆðŸ¤˜ðŸ’¦âœ”ðŸ˜£ðŸƒðŸ’â˜¹ðŸŽŠðŸ’˜ðŸ˜ â˜ðŸ˜•ðŸŒºðŸŽ‚ðŸŒ»ðŸ˜ðŸ–•ðŸ’ðŸ™ŠðŸ˜¹ðŸ—£ðŸ’«ðŸ’€ðŸ‘‘ðŸŽµðŸ¤žðŸ˜›ðŸ”´ðŸ˜¤ðŸŒ¼ðŸ˜«âš½ðŸ¤™â˜•ðŸ†ðŸ¤«ðŸ‘ˆðŸ˜®ðŸ™†ðŸ»ðŸƒðŸ¶ðŸ’ðŸ˜²ðŸŒ¿ðŸ§¡ðŸŽâš¡ðŸŒžðŸŽˆâŒâœŠðŸ‘‹ðŸ˜°ðŸ¤¨ðŸ˜¶ðŸ¤ðŸš¶ðŸ’°ðŸ“ðŸ’¢ðŸ¤ŸðŸ™ðŸš¨ðŸ’¨ðŸ¤¬âœˆðŸŽ€ðŸºðŸ¤“ðŸ˜™ðŸ’ŸðŸŒ±ðŸ˜–ðŸ‘¶ðŸ¥´â–¶âž¡â“ðŸ’ŽðŸ’¸â¬‡ðŸ˜¨ðŸŒšðŸ¦‹ðŸ˜·ðŸ•ºâš ðŸ™…ðŸ˜ŸðŸ˜µðŸ‘ŽðŸ¤²ðŸ¤ ðŸ¤§ðŸ“ŒðŸ”µðŸ’…ðŸ§ðŸ¾ðŸ’ðŸ˜—ðŸ¤‘ðŸŒŠðŸ¤¯ðŸ·â˜ŽðŸ’§ðŸ˜¯ðŸ’†ðŸ‘†ðŸŽ¤ðŸ™‡ðŸ‘â„ðŸŒ´ðŸ’£ðŸ¸ðŸ’ŒðŸ“ðŸ¥€ðŸ¤¢ðŸ‘…ðŸ’¡ðŸ’©ðŸ‘ðŸ“¸ðŸ‘»ðŸ¤ðŸ¤®ðŸŽ¼ðŸ¥µðŸš©ðŸŽðŸŠðŸ‘¼ðŸ’ðŸ“£ðŸ¥‚"),alphabetBytesToChars=alphabet.reduce((n,t,i)=>(n[i]=t,n),[]),alphabetCharsToBytes=alphabet.reduce((n,t,i)=>(n[t.codePointAt(0)]=i,n),[]);function encode$4(n){return n.reduce((t,i)=>(t+=alphabetBytesToChars[i],t),"")}function decode$3(n){const t=[];for(const i of n){const f=alphabetCharsToBytes[i.codePointAt(0)];if(f===void 0)throw new Error(`Non-base256emoji character: ${i}`);t.push(f)}return new Uint8Array(t)}const base256emoji=from({prefix:"ðŸš€",name:"base256emoji",encode:encode$4,decode:decode$3}),base256emoji$1=Object.freeze(Object.defineProperty({__proto__:null,base256emoji},Symbol.toStringTag,{value:"Module"})),code$3=0,name$3="identity",encode$3=coerce,digest=n=>create(code$3,encode$3(n)),identity={code:code$3,name:name$3,encode:encode$3,digest},identity$1=Object.freeze(Object.defineProperty({__proto__:null,identity},Symbol.toStringTag,{value:"Module"})),name$2="raw",code$2=85,encode$2=n=>coerce(n),decode$2=n=>coerce(n),raw=Object.freeze(Object.defineProperty({__proto__:null,code:code$2,decode:decode$2,encode:encode$2,name:name$2},Symbol.toStringTag,{value:"Module"})),textEncoder$2=new TextEncoder,textDecoder$1=new TextDecoder,name$1="json",code$1=512,encode$1=n=>textEncoder$2.encode(JSON.stringify(n)),decode$1=n=>JSON.parse(textDecoder$1.decode(n)),json=Object.freeze(Object.defineProperty({__proto__:null,code:code$1,decode:decode$1,encode:encode$1,name:name$1},Symbol.toStringTag,{value:"Module"}));class CID{constructor(t,i,f,s){this.code=i,this.version=t,this.multihash=f,this.bytes=s,this.byteOffset=s.byteOffset,this.byteLength=s.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:hidden,byteLength:hidden,code:readonly,version:readonly,multihash:readonly,bytes:readonly,_baseCache:hidden,asCID:hidden})}toV0(){switch(this.version){case 0:return this;default:{const{code:t,multihash:i}=this;if(t!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(i.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return CID.createV0(i)}}}toV1(){switch(this.version){case 0:{const{code:t,digest:i}=this.multihash,f=create(t,i);return CID.createV1(this.code,f)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(t){return t&&this.code===t.code&&this.version===t.version&&equals(this.multihash,t.multihash)}toString(t){const{bytes:i,version:f,_baseCache:s}=this;switch(f){case 0:return toStringV0(i,s,t||base58btc.encoder);default:return toStringV1(i,s,t||base32.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(t){return deprecate(/^0\.0/,IS_CID_DEPRECATION),!!(t&&(t[cidSymbol]||t.asCID===t))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof CID)return t;if(t!=null&&t.asCID===t){const{version:i,code:f,multihash:s,bytes:a}=t;return new CID(i,f,s,a||encodeCID(i,f,s.bytes))}else if(t!=null&&t[cidSymbol]===!0){const{version:i,multihash:f,code:s}=t,a=decode$5(f);return CID.create(i,s,a)}else return null}static create(t,i,f){if(typeof i!="number")throw new Error("String codecs are no longer supported");switch(t){case 0:{if(i!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new CID(t,i,f,f.bytes)}case 1:{const s=encodeCID(t,i,f.bytes);return new CID(t,i,f,s)}default:throw new Error("Invalid version")}}static createV0(t){return CID.create(0,DAG_PB_CODE,t)}static createV1(t,i){return CID.create(1,t,i)}static decode(t){const[i,f]=CID.decodeFirst(t);if(f.length)throw new Error("Incorrect length");return i}static decodeFirst(t){const i=CID.inspectBytes(t),f=i.size-i.multihashSize,s=coerce(t.subarray(f,f+i.multihashSize));if(s.byteLength!==i.multihashSize)throw new Error("Incorrect length");const a=s.subarray(i.multihashSize-i.digestSize),c=new Digest(i.multihashCode,i.digestSize,a,s);return[i.version===0?CID.createV0(c):CID.createV1(i.codec,c),t.subarray(i.size)]}static inspectBytes(t){let i=0;const f=()=>{const[y,D]=decode$6(t.subarray(i));return i+=D,y};let s=f(),a=DAG_PB_CODE;if(s===18?(s=0,i=0):s===1&&(a=f()),s!==0&&s!==1)throw new RangeError(`Invalid CID version ${s}`);const c=i,e=f(),u=f(),h=i+u,p=h-c;return{version:s,codec:a,multihashCode:e,digestSize:u,multihashSize:p,size:h}}static parse(t,i){const[f,s]=parseCIDtoBytes(t,i),a=CID.decode(s);return a._baseCache.set(f,t),a}}const parseCIDtoBytes=(n,t)=>{switch(n[0]){case"Q":{const i=t||base58btc;return[base58btc.prefix,i.decode(`${base58btc.prefix}${n}`)]}case base58btc.prefix:{const i=t||base58btc;return[base58btc.prefix,i.decode(n)]}case base32.prefix:{const i=t||base32;return[base32.prefix,i.decode(n)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[n[0],t.decode(n)]}}},toStringV0=(n,t,i)=>{const{prefix:f}=i;if(f!==base58btc.prefix)throw Error(`Cannot string encode V0 in ${i.name} encoding`);const s=t.get(f);if(s==null){const a=i.encode(n).slice(1);return t.set(f,a),a}else return s},toStringV1=(n,t,i)=>{const{prefix:f}=i,s=t.get(f);if(s==null){const a=i.encode(n);return t.set(f,a),a}else return s},DAG_PB_CODE=112,SHA_256_CODE=18,encodeCID=(n,t,i)=>{const f=encodingLength(n),s=f+encodingLength(t),a=new Uint8Array(s+i.byteLength);return encodeTo(n,a,0),encodeTo(t,a,f),a.set(i,s),a},cidSymbol=Symbol.for("@ipld/js-cid/CID"),readonly={writable:!1,configurable:!1,enumerable:!0},hidden={writable:!1,enumerable:!1,configurable:!1},version="0.0.0-dev",deprecate=(n,t)=>{if(n.test(version))console.warn(t);else throw new Error(t)},IS_CID_DEPRECATION=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,cid=Object.freeze(Object.defineProperty({__proto__:null,CID},Symbol.toStringTag,{value:"Module"})),bases$2={...identityBase,...base2$1,...base8$1,...base10$1,...base16$1,...base32$1,...base36$1,...base58,...base64$2,...base256emoji$1},hashes={...sha2,...identity$1},codecs={raw,json},basics=Object.freeze(Object.defineProperty({__proto__:null,CID,bases:bases$2,bytes,codecs,digest:digest$1,hasher,hashes,varint},Symbol.toStringTag,{value:"Module"})),require$$0$2=getAugmentedNamespace(basics),{bases:bases$1}=require$$0$2;function createCodec$1(n,t,i,f){return{name:n,prefix:t,encoder:{name:n,prefix:t,encode:i},decoder:{decode:f}}}const string$1=createCodec$1("utf8","u",n=>"u"+new TextDecoder("utf8").decode(n),n=>new TextEncoder().encode(n.substring(1))),ascii$1=createCodec$1("ascii","a",n=>{let t="a";for(let i=0;i<n.length;i++)t+=String.fromCharCode(n[i]);return t},n=>{n=n.substring(1);const t=new Uint8Array(n.length);for(let i=0;i<n.length;i++)t[i]=n.charCodeAt(i);return t}),BASES$1={utf8:string$1,"utf-8":string$1,hex:bases$1.base16,latin1:ascii$1,ascii:ascii$1,binary:ascii$1,...bases$1};var bases_1=BASES$1;const bases=bases_1;function fromString$2(n,t="utf8"){const i=bases[t];if(!i)throw new Error(`Unsupported encoding "${t}"`);return i.decoder.decode(`${i.prefix}${n}`)}var fromString_1=fromString$2;const mergeOptions=mergeOptions$1.bind({ignoreUndefined:!0}),{sha256}=require$$2,mur=murmurhash3jsRevisitedExports,uint8ArrayFromString=fromString_1;async function hamtHashFn(n){return uint8ArrayFromString(mur.x64.hash128(n),"base16").slice(0,8).reverse()}const defaultOptions$1={chunker:"fixed",strategy:"balanced",rawLeaves:!1,onlyHash:!1,reduceSingleLeafToSelf:!0,hasher:sha256,leafType:"file",cidVersion:0,progress:()=>()=>{},shardSplitThreshold:1e3,fileImportConcurrency:50,blockWriteConcurrency:10,minChunkSize:262144,maxChunkSize:262144,avgChunkSize:262144,window:16,polynomial:0x3df305dfb2a804,maxChildrenPerNode:174,layerRepeat:4,wrapWithDirectory:!1,recursive:!1,hidden:!1,timeout:void 0,hamtHashFn,hamtHashCode:34,hamtBucketBits:8};var options=function(n={}){return mergeOptions(defaultOptions$1,n)},minimalExports={},minimal$1={get exports(){return minimalExports},set exports(n){minimalExports=n}},indexMinimal={},minimal={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=n;function n(t,i){for(var f=new Array(arguments.length-1),s=0,a=2,c=!0;a<arguments.length;)f[s++]=arguments[a++];return new Promise(function(u,h){f[s]=function(y){if(c)if(c=!1,y)h(y);else{for(var D=new Array(arguments.length-1),m=0;m<D.length;)D[m++]=arguments[m];u.apply(null,D)}};try{t.apply(i||null,f)}catch(p){c&&(c=!1,h(p))}})}return aspromise}var base64={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,function(n){var t=n;t.length=function(e){var u=e.length;if(!u)return 0;for(var h=0;--u%4>1&&e.charAt(u)==="=";)++h;return Math.ceil(e.length*3)/4-h};for(var i=new Array(64),f=new Array(123),s=0;s<64;)f[i[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;t.encode=function(e,u,h){for(var p=null,y=[],D=0,m=0,b;u<h;){var d=e[u++];switch(m){case 0:y[D++]=i[d>>2],b=(d&3)<<4,m=1;break;case 1:y[D++]=i[b|d>>4],b=(d&15)<<2,m=2;break;case 2:y[D++]=i[b|d>>6],y[D++]=i[d&63],m=0;break}D>8191&&((p||(p=[])).push(String.fromCharCode.apply(String,y)),D=0)}return m&&(y[D++]=i[b],y[D++]=61,m===1&&(y[D++]=61)),p?(D&&p.push(String.fromCharCode.apply(String,y.slice(0,D))),p.join("")):String.fromCharCode.apply(String,y.slice(0,D))};var a="invalid encoding";t.decode=function(e,u,h){for(var p=h,y=0,D,m=0;m<e.length;){var b=e.charCodeAt(m++);if(b===61&&y>1)break;if((b=f[b])===void 0)throw Error(a);switch(y){case 0:D=b,y=1;break;case 1:u[h++]=D<<2|(b&48)>>4,D=b,y=2;break;case 2:u[h++]=(D&15)<<4|(b&60)>>2,D=b,y=3;break;case 3:u[h++]=(D&3)<<6|b,y=0;break}}if(y===1)throw Error(a);return h-p},t.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}}(base64)),base64}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=n;function n(){this._listeners={}}return n.prototype.on=function(i,f,s){return(this._listeners[i]||(this._listeners[i]=[])).push({fn:f,ctx:s||this}),this},n.prototype.off=function(i,f){if(i===void 0)this._listeners={};else if(f===void 0)this._listeners[i]=[];else for(var s=this._listeners[i],a=0;a<s.length;)s[a].fn===f?s.splice(a,1):++a;return this},n.prototype.emit=function(i){var f=this._listeners[i];if(f){for(var s=[],a=1;a<arguments.length;)s.push(arguments[a++]);for(a=0;a<f.length;)f[a].fn.apply(f[a++].ctx,s)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=n(n);function n(a){return typeof Float32Array<"u"?function(){var c=new Float32Array([-0]),e=new Uint8Array(c.buffer),u=e[3]===128;function h(m,b,d){c[0]=m,b[d]=e[0],b[d+1]=e[1],b[d+2]=e[2],b[d+3]=e[3]}function p(m,b,d){c[0]=m,b[d]=e[3],b[d+1]=e[2],b[d+2]=e[1],b[d+3]=e[0]}a.writeFloatLE=u?h:p,a.writeFloatBE=u?p:h;function y(m,b){return e[0]=m[b],e[1]=m[b+1],e[2]=m[b+2],e[3]=m[b+3],c[0]}function D(m,b){return e[3]=m[b],e[2]=m[b+1],e[1]=m[b+2],e[0]=m[b+3],c[0]}a.readFloatLE=u?y:D,a.readFloatBE=u?D:y}():function(){function c(u,h,p,y){var D=h<0?1:0;if(D&&(h=-h),h===0)u(1/h>0?0:2147483648,p,y);else if(isNaN(h))u(2143289344,p,y);else if(h>34028234663852886e22)u((D<<31|2139095040)>>>0,p,y);else if(h<11754943508222875e-54)u((D<<31|Math.round(h/1401298464324817e-60))>>>0,p,y);else{var m=Math.floor(Math.log(h)/Math.LN2),b=Math.round(h*Math.pow(2,-m)*8388608)&8388607;u((D<<31|m+127<<23|b)>>>0,p,y)}}a.writeFloatLE=c.bind(null,t),a.writeFloatBE=c.bind(null,i);function e(u,h,p){var y=u(h,p),D=(y>>31)*2+1,m=y>>>23&255,b=y&8388607;return m===255?b?NaN:D*(1/0):m===0?D*1401298464324817e-60*b:D*Math.pow(2,m-150)*(b+8388608)}a.readFloatLE=e.bind(null,f),a.readFloatBE=e.bind(null,s)}(),typeof Float64Array<"u"?function(){var c=new Float64Array([-0]),e=new Uint8Array(c.buffer),u=e[7]===128;function h(m,b,d){c[0]=m,b[d]=e[0],b[d+1]=e[1],b[d+2]=e[2],b[d+3]=e[3],b[d+4]=e[4],b[d+5]=e[5],b[d+6]=e[6],b[d+7]=e[7]}function p(m,b,d){c[0]=m,b[d]=e[7],b[d+1]=e[6],b[d+2]=e[5],b[d+3]=e[4],b[d+4]=e[3],b[d+5]=e[2],b[d+6]=e[1],b[d+7]=e[0]}a.writeDoubleLE=u?h:p,a.writeDoubleBE=u?p:h;function y(m,b){return e[0]=m[b],e[1]=m[b+1],e[2]=m[b+2],e[3]=m[b+3],e[4]=m[b+4],e[5]=m[b+5],e[6]=m[b+6],e[7]=m[b+7],c[0]}function D(m,b){return e[7]=m[b],e[6]=m[b+1],e[5]=m[b+2],e[4]=m[b+3],e[3]=m[b+4],e[2]=m[b+5],e[1]=m[b+6],e[0]=m[b+7],c[0]}a.readDoubleLE=u?y:D,a.readDoubleBE=u?D:y}():function(){function c(u,h,p,y,D,m){var b=y<0?1:0;if(b&&(y=-y),y===0)u(0,D,m+h),u(1/y>0?0:2147483648,D,m+p);else if(isNaN(y))u(0,D,m+h),u(2146959360,D,m+p);else if(y>17976931348623157e292)u(0,D,m+h),u((b<<31|2146435072)>>>0,D,m+p);else{var d;if(y<22250738585072014e-324)d=y/5e-324,u(d>>>0,D,m+h),u((b<<31|d/4294967296)>>>0,D,m+p);else{var w=Math.floor(Math.log(y)/Math.LN2);w===1024&&(w=1023),d=y*Math.pow(2,-w),u(d*4503599627370496>>>0,D,m+h),u((b<<31|w+1023<<20|d*1048576&1048575)>>>0,D,m+p)}}}a.writeDoubleLE=c.bind(null,t,0,4),a.writeDoubleBE=c.bind(null,i,4,0);function e(u,h,p,y,D){var m=u(y,D+h),b=u(y,D+p),d=(b>>31)*2+1,w=b>>>20&2047,_=4294967296*(b&1048575)+m;return w===2047?_?NaN:d*(1/0):w===0?d*5e-324*_:d*Math.pow(2,w-1075)*(_+4503599627370496)}a.readDoubleLE=e.bind(null,f,0,4),a.readDoubleBE=e.bind(null,s,4,0)}(),a}function t(a,c,e){c[e]=a&255,c[e+1]=a>>>8&255,c[e+2]=a>>>16&255,c[e+3]=a>>>24}function i(a,c,e){c[e]=a>>>24,c[e+1]=a>>>16&255,c[e+2]=a>>>8&255,c[e+3]=a&255}function f(a,c){return(a[c]|a[c+1]<<8|a[c+2]<<16|a[c+3]<<24)>>>0}function s(a,c){return(a[c]<<24|a[c+1]<<16|a[c+2]<<8|a[c+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(n){}return null}return inquire_1}var utf8={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,function(n){var t=n;t.length=function(f){for(var s=0,a=0,c=0;c<f.length;++c)a=f.charCodeAt(c),a<128?s+=1:a<2048?s+=2:(a&64512)===55296&&(f.charCodeAt(c+1)&64512)===56320?(++c,s+=4):s+=3;return s},t.read=function(f,s,a){var c=a-s;if(c<1)return"";for(var e=null,u=[],h=0,p;s<a;)p=f[s++],p<128?u[h++]=p:p>191&&p<224?u[h++]=(p&31)<<6|f[s++]&63:p>239&&p<365?(p=((p&7)<<18|(f[s++]&63)<<12|(f[s++]&63)<<6|f[s++]&63)-65536,u[h++]=55296+(p>>10),u[h++]=56320+(p&1023)):u[h++]=(p&15)<<12|(f[s++]&63)<<6|f[s++]&63,h>8191&&((e||(e=[])).push(String.fromCharCode.apply(String,u)),h=0);return e?(h&&e.push(String.fromCharCode.apply(String,u.slice(0,h))),e.join("")):String.fromCharCode.apply(String,u.slice(0,h))},t.write=function(f,s,a){for(var c=a,e,u,h=0;h<f.length;++h)e=f.charCodeAt(h),e<128?s[a++]=e:e<2048?(s[a++]=e>>6|192,s[a++]=e&63|128):(e&64512)===55296&&((u=f.charCodeAt(h+1))&64512)===56320?(e=65536+((e&1023)<<10)+(u&1023),++h,s[a++]=e>>18|240,s[a++]=e>>12&63|128,s[a++]=e>>6&63|128,s[a++]=e&63|128):(s[a++]=e>>12|224,s[a++]=e>>6&63|128,s[a++]=e&63|128);return a-c}}(utf8)),utf8}var pool_1,hasRequiredPool;function requirePool(){if(hasRequiredPool)return pool_1;hasRequiredPool=1,pool_1=n;function n(t,i,f){var s=f||8192,a=s>>>1,c=null,e=s;return function(h){if(h<1||h>a)return t(h);e+h>s&&(c=t(s),e=0);var p=i.call(c,e,e+=h);return e&7&&(e=(e|7)+1),p}}return pool_1}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=t;var n=requireMinimal$1();function t(a,c){this.lo=a>>>0,this.hi=c>>>0}var i=t.zero=new t(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var f=t.zeroHash="\0\0\0\0\0\0\0\0";t.fromNumber=function(c){if(c===0)return i;var e=c<0;e&&(c=-c);var u=c>>>0,h=(c-u)/4294967296>>>0;return e&&(h=~h>>>0,u=~u>>>0,++u>4294967295&&(u=0,++h>4294967295&&(h=0))),new t(u,h)},t.from=function(c){if(typeof c=="number")return t.fromNumber(c);if(n.isString(c))if(n.Long)c=n.Long.fromString(c);else return t.fromNumber(parseInt(c,10));return c.low||c.high?new t(c.low>>>0,c.high>>>0):i},t.prototype.toNumber=function(c){if(!c&&this.hi>>>31){var e=~this.lo+1>>>0,u=~this.hi>>>0;return e||(u=u+1>>>0),-(e+u*4294967296)}return this.lo+this.hi*4294967296},t.prototype.toLong=function(c){return n.Long?new n.Long(this.lo|0,this.hi|0,Boolean(c)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(c)}};var s=String.prototype.charCodeAt;return t.fromHash=function(c){return c===f?i:new t((s.call(c,0)|s.call(c,1)<<8|s.call(c,2)<<16|s.call(c,3)<<24)>>>0,(s.call(c,4)|s.call(c,5)<<8|s.call(c,6)<<16|s.call(c,7)<<24)>>>0)},t.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},t.prototype.zzEncode=function(){var c=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^c)>>>0,this.lo=(this.lo<<1^c)>>>0,this},t.prototype.zzDecode=function(){var c=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^c)>>>0,this.hi=(this.hi>>>1^c)>>>0,this},t.prototype.length=function(){var c=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,u=this.hi>>>24;return u===0?e===0?c<16384?c<128?1:2:c<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:u<128?9:10},longbits}var hasRequiredMinimal$1;function requireMinimal$1(){return hasRequiredMinimal$1||(hasRequiredMinimal$1=1,function(n){var t=n;t.asPromise=requireAspromise(),t.base64=requireBase64(),t.EventEmitter=requireEventemitter(),t.float=requireFloat(),t.inquire=requireInquire(),t.utf8=requireUtf8(),t.pool=requirePool(),t.LongBits=requireLongbits(),t.isNode=Boolean(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),t.global=t.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a},t.isString=function(a){return typeof a=="string"||a instanceof String},t.isObject=function(a){return a&&typeof a=="object"},t.isset=t.isSet=function(a,c){var e=a[c];return e!=null&&a.hasOwnProperty(c)?typeof e!="object"||(Array.isArray(e)?e.length:Object.keys(e).length)>0:!1},t.Buffer=function(){try{var s=t.inquire("buffer").Buffer;return s.prototype.utf8Write?s:null}catch{return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(a){return typeof a=="number"?t.Buffer?t._Buffer_allocUnsafe(a):new t.Array(a):t.Buffer?t._Buffer_from(a):typeof Uint8Array>"u"?a:new Uint8Array(a)},t.Array=typeof Uint8Array<"u"?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(a){return a?t.LongBits.from(a).toHash():t.LongBits.zeroHash},t.longFromHash=function(a,c){var e=t.LongBits.fromHash(a);return t.Long?t.Long.fromBits(e.lo,e.hi,c):e.toNumber(Boolean(c))};function i(s,a,c){for(var e=Object.keys(a),u=0;u<e.length;++u)(s[e[u]]===void 0||!c)&&(s[e[u]]=a[e[u]]);return s}t.merge=i,t.lcFirst=function(a){return a.charAt(0).toLowerCase()+a.substring(1)};function f(s){function a(c,e){if(!(this instanceof a))return new a(c,e);Object.defineProperty(this,"message",{get:function(){return c}}),Error.captureStackTrace?Error.captureStackTrace(this,a):Object.defineProperty(this,"stack",{value:new Error().stack||""}),e&&i(this,e)}return(a.prototype=Object.create(Error.prototype)).constructor=a,Object.defineProperty(a.prototype,"name",{get:function(){return s}}),a.prototype.toString=function(){return this.name+": "+this.message},a}t.newError=f,t.ProtocolError=f("ProtocolError"),t.oneOfGetter=function(a){for(var c={},e=0;e<a.length;++e)c[a[e]]=1;return function(){for(var u=Object.keys(this),h=u.length-1;h>-1;--h)if(c[u[h]]===1&&this[u[h]]!==void 0&&this[u[h]]!==null)return u[h]}},t.oneOfSetter=function(a){return function(c){for(var e=0;e<a.length;++e)a[e]!==c&&delete this[a[e]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var s=t.Buffer;if(!s){t._Buffer_from=t._Buffer_allocUnsafe=null;return}t._Buffer_from=s.from!==Uint8Array.from&&s.from||function(c,e){return new s(c,e)},t._Buffer_allocUnsafe=s.allocUnsafe||function(c){return new s(c)}}}(minimal)),minimal}var writer,hasRequiredWriter;function requireWriter(){if(hasRequiredWriter)return writer;hasRequiredWriter=1,writer=u;var n=requireMinimal$1(),t,i=n.LongBits,f=n.base64,s=n.utf8;function a(w,_,v){this.fn=w,this.len=_,this.next=void 0,this.val=v}function c(){}function e(w){this.head=w.head,this.tail=w.tail,this.len=w.len,this.next=w.states}function u(){this.len=0,this.head=new a(c,0,0),this.tail=this.head,this.states=null}var h=function(){return n.Buffer?function(){return(u.create=function(){return new t})()}:function(){return new u}};u.create=h(),u.alloc=function(_){return new n.Array(_)},n.Array!==Array&&(u.alloc=n.pool(u.alloc,n.Array.prototype.subarray)),u.prototype._push=function(_,v,C){return this.tail=this.tail.next=new a(_,v,C),this.len+=v,this};function p(w,_,v){_[v]=w&255}function y(w,_,v){for(;w>127;)_[v++]=w&127|128,w>>>=7;_[v]=w}function D(w,_){this.len=w,this.next=void 0,this.val=_}D.prototype=Object.create(a.prototype),D.prototype.fn=y,u.prototype.uint32=function(_){return this.len+=(this.tail=this.tail.next=new D((_=_>>>0)<128?1:_<16384?2:_<2097152?3:_<268435456?4:5,_)).len,this},u.prototype.int32=function(_){return _<0?this._push(m,10,i.fromNumber(_)):this.uint32(_)},u.prototype.sint32=function(_){return this.uint32((_<<1^_>>31)>>>0)};function m(w,_,v){for(;w.hi;)_[v++]=w.lo&127|128,w.lo=(w.lo>>>7|w.hi<<25)>>>0,w.hi>>>=7;for(;w.lo>127;)_[v++]=w.lo&127|128,w.lo=w.lo>>>7;_[v++]=w.lo}u.prototype.uint64=function(_){var v=i.from(_);return this._push(m,v.length(),v)},u.prototype.int64=u.prototype.uint64,u.prototype.sint64=function(_){var v=i.from(_).zzEncode();return this._push(m,v.length(),v)},u.prototype.bool=function(_){return this._push(p,1,_?1:0)};function b(w,_,v){_[v]=w&255,_[v+1]=w>>>8&255,_[v+2]=w>>>16&255,_[v+3]=w>>>24}u.prototype.fixed32=function(_){return this._push(b,4,_>>>0)},u.prototype.sfixed32=u.prototype.fixed32,u.prototype.fixed64=function(_){var v=i.from(_);return this._push(b,4,v.lo)._push(b,4,v.hi)},u.prototype.sfixed64=u.prototype.fixed64,u.prototype.float=function(_){return this._push(n.float.writeFloatLE,4,_)},u.prototype.double=function(_){return this._push(n.float.writeDoubleLE,8,_)};var d=n.Array.prototype.set?function(_,v,C){v.set(_,C)}:function(_,v,C){for(var A=0;A<_.length;++A)v[C+A]=_[A]};return u.prototype.bytes=function(_){var v=_.length>>>0;if(!v)return this._push(p,1,0);if(n.isString(_)){var C=u.alloc(v=f.length(_));f.decode(_,C,0),_=C}return this.uint32(v)._push(d,v,_)},u.prototype.string=function(_){var v=s.length(_);return v?this.uint32(v)._push(s.write,v,_):this._push(p,1,0)},u.prototype.fork=function(){return this.states=new e(this),this.head=this.tail=new a(c,0,0),this.len=0,this},u.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new a(c,0,0),this.len=0),this},u.prototype.ldelim=function(){var _=this.head,v=this.tail,C=this.len;return this.reset().uint32(C),C&&(this.tail.next=_.next,this.tail=v,this.len+=C),this},u.prototype.finish=function(){for(var _=this.head.next,v=this.constructor.alloc(this.len),C=0;_;)_.fn(_.val,v,C),C+=_.len,_=_.next;return v},u._configure=function(w){t=w,u.create=h(),t._configure()},writer}var writer_buffer,hasRequiredWriter_buffer;function requireWriter_buffer(){if(hasRequiredWriter_buffer)return writer_buffer;hasRequiredWriter_buffer=1,writer_buffer=i;var n=requireWriter();(i.prototype=Object.create(n.prototype)).constructor=i;var t=requireMinimal$1();function i(){n.call(this)}i._configure=function(){i.alloc=t._Buffer_allocUnsafe,i.writeBytesBuffer=t.Buffer&&t.Buffer.prototype instanceof Uint8Array&&t.Buffer.prototype.set.name==="set"?function(a,c,e){c.set(a,e)}:function(a,c,e){if(a.copy)a.copy(c,e,0,a.length);else for(var u=0;u<a.length;)c[e++]=a[u++]}},i.prototype.bytes=function(a){t.isString(a)&&(a=t._Buffer_from(a,"base64"));var c=a.length>>>0;return this.uint32(c),c&&this._push(i.writeBytesBuffer,c,a),this};function f(s,a,c){s.length<40?t.utf8.write(s,a,c):a.utf8Write?a.utf8Write(s,c):a.write(s,c)}return i.prototype.string=function(a){var c=t.Buffer.byteLength(a);return this.uint32(c),c&&this._push(f,c,a),this},i._configure(),writer_buffer}var reader,hasRequiredReader;function requireReader(){if(hasRequiredReader)return reader;hasRequiredReader=1,reader=a;var n=requireMinimal$1(),t,i=n.LongBits,f=n.utf8;function s(y,D){return RangeError("index out of range: "+y.pos+" + "+(D||1)+" > "+y.len)}function a(y){this.buf=y,this.pos=0,this.len=y.length}var c=typeof Uint8Array<"u"?function(D){if(D instanceof Uint8Array||Array.isArray(D))return new a(D);throw Error("illegal buffer")}:function(D){if(Array.isArray(D))return new a(D);throw Error("illegal buffer")},e=function(){return n.Buffer?function(m){return(a.create=function(d){return n.Buffer.isBuffer(d)?new t(d):c(d)})(m)}:c};a.create=e(),a.prototype._slice=n.Array.prototype.subarray||n.Array.prototype.slice,a.prototype.uint32=function(){var D=4294967295;return function(){if(D=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(D=(D|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(D=(D|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(D=(D|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(D=(D|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return D;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return D}}(),a.prototype.int32=function(){return this.uint32()|0},a.prototype.sint32=function(){var D=this.uint32();return D>>>1^-(D&1)|0};function u(){var y=new i(0,0),D=0;if(this.len-this.pos>4){for(;D<4;++D)if(y.lo=(y.lo|(this.buf[this.pos]&127)<<D*7)>>>0,this.buf[this.pos++]<128)return y;if(y.lo=(y.lo|(this.buf[this.pos]&127)<<28)>>>0,y.hi=(y.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return y;D=0}else{for(;D<3;++D){if(this.pos>=this.len)throw s(this);if(y.lo=(y.lo|(this.buf[this.pos]&127)<<D*7)>>>0,this.buf[this.pos++]<128)return y}return y.lo=(y.lo|(this.buf[this.pos++]&127)<<D*7)>>>0,y}if(this.len-this.pos>4){for(;D<5;++D)if(y.hi=(y.hi|(this.buf[this.pos]&127)<<D*7+3)>>>0,this.buf[this.pos++]<128)return y}else for(;D<5;++D){if(this.pos>=this.len)throw s(this);if(y.hi=(y.hi|(this.buf[this.pos]&127)<<D*7+3)>>>0,this.buf[this.pos++]<128)return y}throw Error("invalid varint encoding")}a.prototype.bool=function(){return this.uint32()!==0};function h(y,D){return(y[D-4]|y[D-3]<<8|y[D-2]<<16|y[D-1]<<24)>>>0}a.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return h(this.buf,this.pos+=4)},a.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return h(this.buf,this.pos+=4)|0};function p(){if(this.pos+8>this.len)throw s(this,8);return new i(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}return a.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var D=n.float.readFloatLE(this.buf,this.pos);return this.pos+=4,D},a.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var D=n.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,D},a.prototype.bytes=function(){var D=this.uint32(),m=this.pos,b=this.pos+D;if(b>this.len)throw s(this,D);return this.pos+=D,Array.isArray(this.buf)?this.buf.slice(m,b):m===b?new this.buf.constructor(0):this._slice.call(this.buf,m,b)},a.prototype.string=function(){var D=this.bytes();return f.read(D,0,D.length)},a.prototype.skip=function(D){if(typeof D=="number"){if(this.pos+D>this.len)throw s(this,D);this.pos+=D}else do if(this.pos>=this.len)throw s(this);while(this.buf[this.pos++]&128);return this},a.prototype.skipType=function(y){switch(y){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(y=this.uint32()&7)!==4;)this.skipType(y);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+y+" at offset "+this.pos)}return this},a._configure=function(y){t=y,a.create=e(),t._configure();var D=n.Long?"toLong":"toNumber";n.merge(a.prototype,{int64:function(){return u.call(this)[D](!1)},uint64:function(){return u.call(this)[D](!0)},sint64:function(){return u.call(this).zzDecode()[D](!1)},fixed64:function(){return p.call(this)[D](!0)},sfixed64:function(){return p.call(this)[D](!1)}})},reader}var reader_buffer,hasRequiredReader_buffer;function requireReader_buffer(){if(hasRequiredReader_buffer)return reader_buffer;hasRequiredReader_buffer=1,reader_buffer=i;var n=requireReader();(i.prototype=Object.create(n.prototype)).constructor=i;var t=requireMinimal$1();function i(f){n.call(this,f)}return i._configure=function(){t.Buffer&&(i.prototype._slice=t.Buffer.prototype.slice)},i.prototype.string=function(){var s=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+s,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+s,this.len))},i._configure(),reader_buffer}var rpc={},service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=t;var n=requireMinimal$1();(t.prototype=Object.create(n.EventEmitter.prototype)).constructor=t;function t(i,f,s){if(typeof i!="function")throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=i,this.requestDelimited=Boolean(f),this.responseDelimited=Boolean(s)}return t.prototype.rpcCall=function i(f,s,a,c,e){if(!c)throw TypeError("request must be specified");var u=this;if(!e)return n.asPromise(i,u,f,s,a,c);if(!u.rpcImpl){setTimeout(function(){e(Error("already ended"))},0);return}try{return u.rpcImpl(f,s[u.requestDelimited?"encodeDelimited":"encode"](c).finish(),function(p,y){if(p)return u.emit("error",p,f),e(p);if(y===null){u.end(!0);return}if(!(y instanceof a))try{y=a[u.responseDelimited?"decodeDelimited":"decode"](y)}catch(D){return u.emit("error",D,f),e(D)}return u.emit("data",y,f),e(null,y)})}catch(h){u.emit("error",h,f),setTimeout(function(){e(h)},0);return}},t.prototype.end=function(f){return this.rpcImpl&&(f||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},service}var hasRequiredRpc;function requireRpc(){return hasRequiredRpc||(hasRequiredRpc=1,function(n){var t=n;t.Service=requireService()}(rpc)),rpc}var roots,hasRequiredRoots;function requireRoots(){return hasRequiredRoots||(hasRequiredRoots=1,roots={}),roots}var hasRequiredIndexMinimal;function requireIndexMinimal(){return hasRequiredIndexMinimal||(hasRequiredIndexMinimal=1,function(n){var t=n;t.build="minimal",t.Writer=requireWriter(),t.BufferWriter=requireWriter_buffer(),t.Reader=requireReader(),t.BufferReader=requireReader_buffer(),t.util=requireMinimal$1(),t.rpc=requireRpc(),t.roots=requireRoots(),t.configure=i;function i(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}i()}(indexMinimal)),indexMinimal}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(n){n.exports=requireIndexMinimal()}(minimal$1)),minimalExports}var unixfs,hasRequiredUnixfs;function requireUnixfs(){if(hasRequiredUnixfs)return unixfs;hasRequiredUnixfs=1;var n=requireMinimal(),t=n.Reader,i=n.Writer,f=n.util,s=n.roots["ipfs-unixfs"]||(n.roots["ipfs-unixfs"]={});return s.Data=function(){function a(c){if(this.blocksizes=[],c)for(var e=Object.keys(c),u=0;u<e.length;++u)c[e[u]]!=null&&(this[e[u]]=c[e[u]])}return a.prototype.Type=0,a.prototype.Data=f.newBuffer([]),a.prototype.filesize=f.Long?f.Long.fromBits(0,0,!0):0,a.prototype.blocksizes=f.emptyArray,a.prototype.hashType=f.Long?f.Long.fromBits(0,0,!0):0,a.prototype.fanout=f.Long?f.Long.fromBits(0,0,!0):0,a.prototype.mode=0,a.prototype.mtime=null,a.encode=function(e,u){if(u||(u=i.create()),u.uint32(8).int32(e.Type),e.Data!=null&&Object.hasOwnProperty.call(e,"Data")&&u.uint32(18).bytes(e.Data),e.filesize!=null&&Object.hasOwnProperty.call(e,"filesize")&&u.uint32(24).uint64(e.filesize),e.blocksizes!=null&&e.blocksizes.length)for(var h=0;h<e.blocksizes.length;++h)u.uint32(32).uint64(e.blocksizes[h]);return e.hashType!=null&&Object.hasOwnProperty.call(e,"hashType")&&u.uint32(40).uint64(e.hashType),e.fanout!=null&&Object.hasOwnProperty.call(e,"fanout")&&u.uint32(48).uint64(e.fanout),e.mode!=null&&Object.hasOwnProperty.call(e,"mode")&&u.uint32(56).uint32(e.mode),e.mtime!=null&&Object.hasOwnProperty.call(e,"mtime")&&s.UnixTime.encode(e.mtime,u.uint32(66).fork()).ldelim(),u},a.decode=function(e,u){e instanceof t||(e=t.create(e));for(var h=u===void 0?e.len:e.pos+u,p=new s.Data;e.pos<h;){var y=e.uint32();switch(y>>>3){case 1:p.Type=e.int32();break;case 2:p.Data=e.bytes();break;case 3:p.filesize=e.uint64();break;case 4:if(p.blocksizes&&p.blocksizes.length||(p.blocksizes=[]),(y&7)===2)for(var D=e.uint32()+e.pos;e.pos<D;)p.blocksizes.push(e.uint64());else p.blocksizes.push(e.uint64());break;case 5:p.hashType=e.uint64();break;case 6:p.fanout=e.uint64();break;case 7:p.mode=e.uint32();break;case 8:p.mtime=s.UnixTime.decode(e,e.uint32());break;default:e.skipType(y&7);break}}if(!p.hasOwnProperty("Type"))throw f.ProtocolError("missing required 'Type'",{instance:p});return p},a.fromObject=function(e){if(e instanceof s.Data)return e;var u=new s.Data;switch(e.Type){case"Raw":case 0:u.Type=0;break;case"Directory":case 1:u.Type=1;break;case"File":case 2:u.Type=2;break;case"Metadata":case 3:u.Type=3;break;case"Symlink":case 4:u.Type=4;break;case"HAMTShard":case 5:u.Type=5;break}if(e.Data!=null&&(typeof e.Data=="string"?f.base64.decode(e.Data,u.Data=f.newBuffer(f.base64.length(e.Data)),0):e.Data.length&&(u.Data=e.Data)),e.filesize!=null&&(f.Long?(u.filesize=f.Long.fromValue(e.filesize)).unsigned=!0:typeof e.filesize=="string"?u.filesize=parseInt(e.filesize,10):typeof e.filesize=="number"?u.filesize=e.filesize:typeof e.filesize=="object"&&(u.filesize=new f.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0))),e.blocksizes){if(!Array.isArray(e.blocksizes))throw TypeError(".Data.blocksizes: array expected");u.blocksizes=[];for(var h=0;h<e.blocksizes.length;++h)f.Long?(u.blocksizes[h]=f.Long.fromValue(e.blocksizes[h])).unsigned=!0:typeof e.blocksizes[h]=="string"?u.blocksizes[h]=parseInt(e.blocksizes[h],10):typeof e.blocksizes[h]=="number"?u.blocksizes[h]=e.blocksizes[h]:typeof e.blocksizes[h]=="object"&&(u.blocksizes[h]=new f.LongBits(e.blocksizes[h].low>>>0,e.blocksizes[h].high>>>0).toNumber(!0))}if(e.hashType!=null&&(f.Long?(u.hashType=f.Long.fromValue(e.hashType)).unsigned=!0:typeof e.hashType=="string"?u.hashType=parseInt(e.hashType,10):typeof e.hashType=="number"?u.hashType=e.hashType:typeof e.hashType=="object"&&(u.hashType=new f.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0))),e.fanout!=null&&(f.Long?(u.fanout=f.Long.fromValue(e.fanout)).unsigned=!0:typeof e.fanout=="string"?u.fanout=parseInt(e.fanout,10):typeof e.fanout=="number"?u.fanout=e.fanout:typeof e.fanout=="object"&&(u.fanout=new f.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0))),e.mode!=null&&(u.mode=e.mode>>>0),e.mtime!=null){if(typeof e.mtime!="object")throw TypeError(".Data.mtime: object expected");u.mtime=s.UnixTime.fromObject(e.mtime)}return u},a.toObject=function(e,u){u||(u={});var h={};if((u.arrays||u.defaults)&&(h.blocksizes=[]),u.defaults){if(h.Type=u.enums===String?"Raw":0,u.bytes===String?h.Data="":(h.Data=[],u.bytes!==Array&&(h.Data=f.newBuffer(h.Data))),f.Long){var p=new f.Long(0,0,!0);h.filesize=u.longs===String?p.toString():u.longs===Number?p.toNumber():p}else h.filesize=u.longs===String?"0":0;if(f.Long){var p=new f.Long(0,0,!0);h.hashType=u.longs===String?p.toString():u.longs===Number?p.toNumber():p}else h.hashType=u.longs===String?"0":0;if(f.Long){var p=new f.Long(0,0,!0);h.fanout=u.longs===String?p.toString():u.longs===Number?p.toNumber():p}else h.fanout=u.longs===String?"0":0;h.mode=0,h.mtime=null}if(e.Type!=null&&e.hasOwnProperty("Type")&&(h.Type=u.enums===String?s.Data.DataType[e.Type]:e.Type),e.Data!=null&&e.hasOwnProperty("Data")&&(h.Data=u.bytes===String?f.base64.encode(e.Data,0,e.Data.length):u.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),e.filesize!=null&&e.hasOwnProperty("filesize")&&(typeof e.filesize=="number"?h.filesize=u.longs===String?String(e.filesize):e.filesize:h.filesize=u.longs===String?f.Long.prototype.toString.call(e.filesize):u.longs===Number?new f.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0):e.filesize),e.blocksizes&&e.blocksizes.length){h.blocksizes=[];for(var y=0;y<e.blocksizes.length;++y)typeof e.blocksizes[y]=="number"?h.blocksizes[y]=u.longs===String?String(e.blocksizes[y]):e.blocksizes[y]:h.blocksizes[y]=u.longs===String?f.Long.prototype.toString.call(e.blocksizes[y]):u.longs===Number?new f.LongBits(e.blocksizes[y].low>>>0,e.blocksizes[y].high>>>0).toNumber(!0):e.blocksizes[y]}return e.hashType!=null&&e.hasOwnProperty("hashType")&&(typeof e.hashType=="number"?h.hashType=u.longs===String?String(e.hashType):e.hashType:h.hashType=u.longs===String?f.Long.prototype.toString.call(e.hashType):u.longs===Number?new f.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0):e.hashType),e.fanout!=null&&e.hasOwnProperty("fanout")&&(typeof e.fanout=="number"?h.fanout=u.longs===String?String(e.fanout):e.fanout:h.fanout=u.longs===String?f.Long.prototype.toString.call(e.fanout):u.longs===Number?new f.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0):e.fanout),e.mode!=null&&e.hasOwnProperty("mode")&&(h.mode=e.mode),e.mtime!=null&&e.hasOwnProperty("mtime")&&(h.mtime=s.UnixTime.toObject(e.mtime,u)),h},a.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},a.DataType=function(){var c={},e=Object.create(c);return e[c[0]="Raw"]=0,e[c[1]="Directory"]=1,e[c[2]="File"]=2,e[c[3]="Metadata"]=3,e[c[4]="Symlink"]=4,e[c[5]="HAMTShard"]=5,e}(),a}(),s.UnixTime=function(){function a(c){if(c)for(var e=Object.keys(c),u=0;u<e.length;++u)c[e[u]]!=null&&(this[e[u]]=c[e[u]])}return a.prototype.Seconds=f.Long?f.Long.fromBits(0,0,!1):0,a.prototype.FractionalNanoseconds=0,a.encode=function(e,u){return u||(u=i.create()),u.uint32(8).int64(e.Seconds),e.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(e,"FractionalNanoseconds")&&u.uint32(21).fixed32(e.FractionalNanoseconds),u},a.decode=function(e,u){e instanceof t||(e=t.create(e));for(var h=u===void 0?e.len:e.pos+u,p=new s.UnixTime;e.pos<h;){var y=e.uint32();switch(y>>>3){case 1:p.Seconds=e.int64();break;case 2:p.FractionalNanoseconds=e.fixed32();break;default:e.skipType(y&7);break}}if(!p.hasOwnProperty("Seconds"))throw f.ProtocolError("missing required 'Seconds'",{instance:p});return p},a.fromObject=function(e){if(e instanceof s.UnixTime)return e;var u=new s.UnixTime;return e.Seconds!=null&&(f.Long?(u.Seconds=f.Long.fromValue(e.Seconds)).unsigned=!1:typeof e.Seconds=="string"?u.Seconds=parseInt(e.Seconds,10):typeof e.Seconds=="number"?u.Seconds=e.Seconds:typeof e.Seconds=="object"&&(u.Seconds=new f.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber())),e.FractionalNanoseconds!=null&&(u.FractionalNanoseconds=e.FractionalNanoseconds>>>0),u},a.toObject=function(e,u){u||(u={});var h={};if(u.defaults){if(f.Long){var p=new f.Long(0,0,!1);h.Seconds=u.longs===String?p.toString():u.longs===Number?p.toNumber():p}else h.Seconds=u.longs===String?"0":0;h.FractionalNanoseconds=0}return e.Seconds!=null&&e.hasOwnProperty("Seconds")&&(typeof e.Seconds=="number"?h.Seconds=u.longs===String?String(e.Seconds):e.Seconds:h.Seconds=u.longs===String?f.Long.prototype.toString.call(e.Seconds):u.longs===Number?new f.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber():e.Seconds),e.FractionalNanoseconds!=null&&e.hasOwnProperty("FractionalNanoseconds")&&(h.FractionalNanoseconds=e.FractionalNanoseconds),h},a.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},a}(),s.Metadata=function(){function a(c){if(c)for(var e=Object.keys(c),u=0;u<e.length;++u)c[e[u]]!=null&&(this[e[u]]=c[e[u]])}return a.prototype.MimeType="",a.encode=function(e,u){return u||(u=i.create()),e.MimeType!=null&&Object.hasOwnProperty.call(e,"MimeType")&&u.uint32(10).string(e.MimeType),u},a.decode=function(e,u){e instanceof t||(e=t.create(e));for(var h=u===void 0?e.len:e.pos+u,p=new s.Metadata;e.pos<h;){var y=e.uint32();switch(y>>>3){case 1:p.MimeType=e.string();break;default:e.skipType(y&7);break}}return p},a.fromObject=function(e){if(e instanceof s.Metadata)return e;var u=new s.Metadata;return e.MimeType!=null&&(u.MimeType=String(e.MimeType)),u},a.toObject=function(e,u){u||(u={});var h={};return u.defaults&&(h.MimeType=""),e.MimeType!=null&&e.hasOwnProperty("MimeType")&&(h.MimeType=e.MimeType),h},a.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},a}(),unixfs=s,unixfs}var errCode,hasRequiredErrCode;function requireErrCode(){if(hasRequiredErrCode)return errCode;hasRequiredErrCode=1;function n(i,f){for(const s in f)Object.defineProperty(i,s,{value:f[s],enumerable:!0,configurable:!0});return i}function t(i,f,s){if(!i||typeof i=="string")throw new TypeError("Please pass an Error to err-code");s||(s={}),typeof f=="object"&&(s=f,f=""),f&&(s.code=f);try{return n(i,s)}catch{s.message=i.message,s.stack=i.stack;const c=function(){};return c.prototype=Object.create(Object.getPrototypeOf(i)),n(new c,s)}}return errCode=t,errCode}var src$3,hasRequiredSrc$1;function requireSrc$1(){if(hasRequiredSrc$1)return src$3;hasRequiredSrc$1=1;const{Data:n}=requireUnixfs(),t=requireErrCode(),i=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],f=["directory","hamt-sharded-directory"],s=parseInt("0644",8),a=parseInt("0755",8);function c(h){if(h!=null)return typeof h=="number"?h&4095:(h=h.toString(),h.substring(0,1)==="0"?parseInt(h,8)&4095:parseInt(h,10)&4095)}function e(h){if(h==null)return;let p;if(h.secs!=null&&(p={secs:h.secs,nsecs:h.nsecs}),h.Seconds!=null&&(p={secs:h.Seconds,nsecs:h.FractionalNanoseconds}),Array.isArray(h)&&(p={secs:h[0],nsecs:h[1]}),h instanceof Date){const y=h.getTime(),D=Math.floor(y/1e3);p={secs:D,nsecs:(y-D*1e3)*1e3}}if(Object.prototype.hasOwnProperty.call(p,"secs")){if(p!=null&&p.nsecs!=null&&(p.nsecs<0||p.nsecs>999999999))throw t(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return p}}class u{static unmarshal(p){const y=n.decode(p),D=n.toObject(y,{defaults:!1,arrays:!0,longs:Number,objects:!1}),m=new u({type:i[D.Type],data:D.Data,blockSizes:D.blocksizes,mode:D.mode,mtime:D.mtime?{secs:D.mtime.Seconds,nsecs:D.mtime.FractionalNanoseconds}:void 0});return m._originalMode=D.mode||0,m}constructor(p={type:"file"}){const{type:y,data:D,blockSizes:m,hashType:b,fanout:d,mtime:w,mode:_}=p;if(y&&!i.includes(y))throw t(new Error("Type: "+y+" is not valid"),"ERR_INVALID_TYPE");this.type=y||"file",this.data=D,this.hashType=b,this.fanout=d,this.blockSizes=m||[],this._originalMode=0,this.mode=c(_),w&&(this.mtime=e(w),this.mtime&&!this.mtime.nsecs&&(this.mtime.nsecs=0))}set mode(p){this._mode=this.isDirectory()?a:s;const y=c(p);y!==void 0&&(this._mode=y)}get mode(){return this._mode}isDirectory(){return Boolean(this.type&&f.includes(this.type))}addBlockSize(p){this.blockSizes.push(p)}removeBlockSize(p){this.blockSizes.splice(p,1)}fileSize(){if(this.isDirectory())return 0;let p=0;return this.blockSizes.forEach(y=>{p+=y}),this.data&&(p+=this.data.length),p}marshal(){let p;switch(this.type){case"raw":p=n.DataType.Raw;break;case"directory":p=n.DataType.Directory;break;case"file":p=n.DataType.File;break;case"metadata":p=n.DataType.Metadata;break;case"symlink":p=n.DataType.Symlink;break;case"hamt-sharded-directory":p=n.DataType.HAMTShard;break;default:throw t(new Error("Type: "+p+" is not valid"),"ERR_INVALID_TYPE")}let y=this.data;(!this.data||!this.data.length)&&(y=void 0);let D;this.mode!=null&&(D=this._originalMode&4294963200|(c(this.mode)||0),D===s&&!this.isDirectory()&&(D=void 0),D===a&&this.isDirectory()&&(D=void 0));let m;if(this.mtime!=null){const d=e(this.mtime);d&&(m={Seconds:d.secs,FractionalNanoseconds:d.nsecs},m.FractionalNanoseconds===0&&delete m.FractionalNanoseconds)}const b={Type:p,Data:y,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:D,mtime:m};return n.encode(b).finish()}}return src$3={UnixFS:u,parseMode:c,parseMtime:e},src$3}const require$$0$1=getAugmentedNamespace(cid),textDecoder=new TextDecoder;function decodeVarint(n,t){let i=0;for(let f=0;;f+=7){if(f>=64)throw new Error("protobuf: varint overflow");if(t>=n.length)throw new Error("protobuf: unexpected end of data");const s=n[t++];if(i+=f<28?(s&127)<<f:(s&127)*2**f,s<128)break}return[i,t]}function decodeBytes(n,t){let i;[i,t]=decodeVarint(n,t);const f=t+i;if(i<0||f<0)throw new Error("protobuf: invalid length");if(f>n.length)throw new Error("protobuf: unexpected end of data");return[n.subarray(t,f),f]}function decodeKey(n,t){let i;return[i,t]=decodeVarint(n,t),[i&7,i>>3,t]}function decodeLink(n){const t={},i=n.length;let f=0;for(;f<i;){let s,a;if([s,a,f]=decodeKey(n,f),a===1){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(s!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${s}) for Hash`);if(t.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,f]=decodeBytes(n,f)}else if(a===2){if(t.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(s!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${s}) for Name`);if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let c;[c,f]=decodeBytes(n,f),t.Name=textDecoder.decode(c)}else if(a===3){if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(s!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${s}) for Tsize`);[t.Tsize,f]=decodeVarint(n,f)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${a}`)}if(f>i)throw new Error("protobuf: (PBLink) unexpected end of data");return t}function decodeNode(n){const t=n.length;let i=0,f,s=!1,a;for(;i<t;){let e,u;if([e,u,i]=decodeKey(n,i),e!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${e}`);if(u===1){if(a)throw new Error("protobuf: (PBNode) duplicate Data section");[a,i]=decodeBytes(n,i),f&&(s=!0)}else if(u===2){if(s)throw new Error("protobuf: (PBNode) duplicate Links section");f||(f=[]);let h;[h,i]=decodeBytes(n,i),f.push(decodeLink(h))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${u}`)}if(i>t)throw new Error("protobuf: (PBNode) unexpected end of data");const c={};return a&&(c.Data=a),c.Links=f||[],c}const textEncoder$1=new TextEncoder,maxInt32=2**32,maxUInt32=2**31;function encodeLink(n,t){let i=t.length;if(typeof n.Tsize=="number"){if(n.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(n.Tsize))throw new Error("Tsize too large for encoding");i=encodeVarint(t,i,n.Tsize)-1,t[i]=24}if(typeof n.Name=="string"){const f=textEncoder$1.encode(n.Name);i-=f.length,t.set(f,i),i=encodeVarint(t,i,f.length)-1,t[i]=18}return n.Hash&&(i-=n.Hash.length,t.set(n.Hash,i),i=encodeVarint(t,i,n.Hash.length)-1,t[i]=10),t.length-i}function encodeNode(n){const t=sizeNode(n),i=new Uint8Array(t);let f=t;if(n.Data&&(f-=n.Data.length,i.set(n.Data,f),f=encodeVarint(i,f,n.Data.length)-1,i[f]=10),n.Links)for(let s=n.Links.length-1;s>=0;s--){const a=encodeLink(n.Links[s],i.subarray(0,f));f-=a,f=encodeVarint(i,f,a)-1,i[f]=18}return i}function sizeLink(n){let t=0;if(n.Hash){const i=n.Hash.length;t+=1+i+sov(i)}if(typeof n.Name=="string"){const i=textEncoder$1.encode(n.Name).length;t+=1+i+sov(i)}return typeof n.Tsize=="number"&&(t+=1+sov(n.Tsize)),t}function sizeNode(n){let t=0;if(n.Data){const i=n.Data.length;t+=1+i+sov(i)}if(n.Links)for(const i of n.Links){const f=sizeLink(i);t+=1+f+sov(f)}return t}function encodeVarint(n,t,i){t-=sov(i);const f=t;for(;i>=maxUInt32;)n[t++]=i&127|128,i/=128;for(;i>=128;)n[t++]=i&127|128,i>>>=7;return n[t]=i,f}function sov(n){return n%2===0&&n++,Math.floor((len64(n)+6)/7)}function len64(n){let t=0;return n>=maxInt32&&(n=Math.floor(n/maxInt32),t=32),n>=1<<16&&(n>>>=16,t+=16),n>=1<<8&&(n>>>=8,t+=8),t+len8tab[n]}const len8tab=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],pbNodeProperties=["Data","Links"],pbLinkProperties=["Hash","Name","Tsize"],textEncoder=new TextEncoder;function linkComparator(n,t){if(n===t)return 0;const i=n.Name?textEncoder.encode(n.Name):[],f=t.Name?textEncoder.encode(t.Name):[];let s=i.length,a=f.length;for(let c=0,e=Math.min(s,a);c<e;++c)if(i[c]!==f[c]){s=i[c],a=f[c];break}return s<a?-1:a<s?1:0}function hasOnlyProperties(n,t){return!Object.keys(n).some(i=>!t.includes(i))}function asLink(n){if(typeof n.asCID=="object"){const i=CID.asCID(n);if(!i)throw new TypeError("Invalid DAG-PB form");return{Hash:i}}if(typeof n!="object"||Array.isArray(n))throw new TypeError("Invalid DAG-PB form");const t={};if(n.Hash){let i=CID.asCID(n.Hash);try{i||(typeof n.Hash=="string"?i=CID.parse(n.Hash):n.Hash instanceof Uint8Array&&(i=CID.decode(n.Hash)))}catch(f){throw new TypeError(`Invalid DAG-PB form: ${f.message}`)}i&&(t.Hash=i)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return typeof n.Name=="string"&&(t.Name=n.Name),typeof n.Tsize=="number"&&(t.Tsize=n.Tsize),t}function prepare(n){if((n instanceof Uint8Array||typeof n=="string")&&(n={Data:n}),typeof n!="object"||Array.isArray(n))throw new TypeError("Invalid DAG-PB form");const t={};if(n.Data!==void 0)if(typeof n.Data=="string")t.Data=textEncoder.encode(n.Data);else if(n.Data instanceof Uint8Array)t.Data=n.Data;else throw new TypeError("Invalid DAG-PB form");if(n.Links!==void 0)if(Array.isArray(n.Links))t.Links=n.Links.map(asLink),t.Links.sort(linkComparator);else throw new TypeError("Invalid DAG-PB form");else t.Links=[];return t}function validate(n){if(!n||typeof n!="object"||Array.isArray(n))throw new TypeError("Invalid DAG-PB form");if(!hasOnlyProperties(n,pbNodeProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(n.Data!==void 0&&!(n.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(n.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(let t=0;t<n.Links.length;t++){const i=n.Links[t];if(!i||typeof i!="object"||Array.isArray(i))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!hasOnlyProperties(i,pbLinkProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!i.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(i.Hash.asCID!==i.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(i.Name!==void 0&&typeof i.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(i.Tsize!==void 0&&(typeof i.Tsize!="number"||i.Tsize%1!==0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(t>0&&linkComparator(i,n.Links[t-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function createNode(n,t=[]){return prepare({Data:n,Links:t})}function createLink(n,t,i){return asLink({Hash:i,Name:n,Tsize:t})}const name="dag-pb",code=112;function encode(n){validate(n);const t={};return n.Links&&(t.Links=n.Links.map(i=>{const f={};return i.Hash&&(f.Hash=i.Hash.bytes),i.Name!==void 0&&(f.Name=i.Name),i.Tsize!==void 0&&(f.Tsize=i.Tsize),f})),n.Data&&(t.Data=n.Data),encodeNode(t)}function decode(n){const t=decodeNode(n),i={};return t.Data&&(i.Data=t.Data),t.Links&&(i.Links=t.Links.map(f=>{const s={};try{s.Hash=CID.decode(f.Hash)}catch{}if(!s.Hash)throw new Error("Invalid Hash field found in link, expected CID");return f.Name!==void 0&&(s.Name=f.Name),f.Tsize!==void 0&&(s.Tsize=f.Tsize),s})),i}const src$2=Object.freeze(Object.defineProperty({__proto__:null,code,createLink,createNode,decode,encode,name,prepare,validate},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(src$2);var persist_1,hasRequiredPersist;function requirePersist(){if(hasRequiredPersist)return persist_1;hasRequiredPersist=1;const{CID:n}=require$$0$1,t=require$$0,{sha256:i}=require$$2;return persist_1=async(s,a,c)=>{c.codec||(c.codec=t),c.hasher||(c.hasher=i),c.cidVersion===void 0&&(c.cidVersion=1),c.codec===t&&c.hasher!==i&&(c.cidVersion=1);const e=await c.hasher.digest(s),u=n.create(c.cidVersion,c.codec.code,e);return c.onlyHash||await a.put(u,s,{signal:c.signal}),u},persist_1}var dir$1,hasRequiredDir$1;function requireDir$1(){if(hasRequiredDir$1)return dir$1;hasRequiredDir$1=1;const{UnixFS:n}=requireSrc$1(),t=requirePersist(),{encode:i,prepare:f}=require$$0;return dir$1=async(a,c,e)=>{const u=new n({type:"directory",mtime:a.mtime,mode:a.mode}),h=i(f({Data:u.marshal()})),p=await t(h,c,e),y=a.path;return{cid:p,path:y,unixfs:u,size:h.length}},dir$1}const require$$5=getAugmentedNamespace(raw);var itAll,hasRequiredItAll;function requireItAll(){return hasRequiredItAll||(hasRequiredItAll=1,itAll=async t=>{const i=[];for await(const f of t)i.push(f);return i}),itAll}var flat,hasRequiredFlat;function requireFlat(){if(hasRequiredFlat)return flat;hasRequiredFlat=1;const n=requireItAll();return flat=async function(t,i){return i(await n(t))},flat}var balanced_1,hasRequiredBalanced;function requireBalanced(){if(hasRequiredBalanced)return balanced_1;hasRequiredBalanced=1;const n=itBatch;function t(f,s,a){return i(f,s,a)}async function i(f,s,a){const c=[];for await(const e of n(f,a.maxChildrenPerNode))c.push(await s(e));return c.length>1?i(c,s,a):c[0]}return balanced_1=t,balanced_1}var trickle,hasRequiredTrickle;function requireTrickle(){if(hasRequiredTrickle)return trickle;hasRequiredTrickle=1;const n=itBatch;trickle=async function(s,a,c){const e=new i(c.layerRepeat);let u=0,h=1,p=e;for await(const y of n(s,c.maxChildrenPerNode))p.isFull()&&(p!==e&&e.addChild(await p.reduce(a)),u&&u%c.layerRepeat===0&&h++,p=new t(h,c.layerRepeat,u),u++),p.append(y);return p&&p!==e&&e.addChild(await p.reduce(a)),e.reduce(a)};class t{constructor(s,a,c=0){this.maxDepth=s,this.layerRepeat=a,this.currentDepth=1,this.iteration=c,this.root=this.node=this.parent={children:[],depth:this.currentDepth,maxDepth:s,maxChildren:(this.maxDepth-this.currentDepth)*this.layerRepeat}}isFull(){if(!this.root.data)return!1;if(this.currentDepth<this.maxDepth&&this.node.maxChildren)return this._addNextNodeToParent(this.node),!1;const s=this._findParent(this.node,this.currentDepth);return s?(this._addNextNodeToParent(s),!1):!0}_addNextNodeToParent(s){this.parent=s;const a={children:[],depth:s.depth+1,parent:s,maxDepth:this.maxDepth,maxChildren:Math.floor(s.children.length/this.layerRepeat)*this.layerRepeat};s.children.push(a),this.currentDepth=a.depth,this.node=a}append(s){this.node.data=s}reduce(s){return this._reduce(this.root,s)}async _reduce(s,a){let c=[];return s.children.length&&(c=await Promise.all(s.children.filter(e=>e.data).map(e=>this._reduce(e,a)))),a((s.data||[]).concat(c))}_findParent(s,a){const c=s.parent;if(!(!c||c.depth===0))return c.children.length===c.maxChildren||!c.maxChildren?this._findParent(c,a):c}}class i extends t{constructor(s){super(0,s),this.root.depth=0,this.currentDepth=1}addChild(s){this.root.children.push(s)}reduce(s){return s((this.root.data||[]).concat(this.root.children))}}return trickle}var bufferImporter_1,hasRequiredBufferImporter;function requireBufferImporter(){if(hasRequiredBufferImporter)return bufferImporter_1;hasRequiredBufferImporter=1;const{UnixFS:n}=requireSrc$1(),t=requirePersist(),i=require$$0,f=require$$5;async function*s(a,c,e){for await(let u of a.content)yield async()=>{e.progress(u.length,a.path);let h;const p={codec:i,cidVersion:e.cidVersion,hasher:e.hasher,onlyHash:e.onlyHash};return e.rawLeaves?(p.codec=f,p.cidVersion=1):(h=new n({type:e.leafType,data:u,mtime:a.mtime,mode:a.mode}),u=i.encode({Data:h.marshal(),Links:[]})),{cid:await t(u,c,p),unixfs:h,size:u.length}}}return bufferImporter_1=s,bufferImporter_1}var file,hasRequiredFile;function requireFile(){if(hasRequiredFile)return file;hasRequiredFile=1;const n=requireErrCode(),{UnixFS:t}=requireSrc$1(),i=requirePersist(),{encode:f,prepare:s}=require$$0,a=itParallelBatch,c=require$$5,e=require$$0,u={flat:requireFlat(),balanced:requireBalanced(),trickle:requireTrickle()};async function*h(D,m,b){let d=-1,w,_;typeof b.bufferImporter=="function"?_=b.bufferImporter:_=requireBufferImporter();for await(const v of a(_(D,m,b),b.blockWriteConcurrency)){if(d++,d===0){w=v;continue}else d===1&&w&&(yield w,w=null);yield v}w&&(w.single=!0,yield w)}const p=(D,m,b)=>{async function d(w){if(w.length===1&&w[0].single&&b.reduceSingleLeafToSelf){const S=w[0];if(S.cid.code===c.code&&(D.mtime!==void 0||D.mode!==void 0)){let I=await m.get(S.cid);S.unixfs=new t({type:"file",mtime:D.mtime,mode:D.mode,data:I}),I=f(s({Data:S.unixfs.marshal()})),S.cid=await i(I,m,{...b,codec:e,hasher:b.hasher,cidVersion:b.cidVersion}),S.size=I.length}return{cid:S.cid,path:D.path,unixfs:S.unixfs,size:S.size}}const _=new t({type:"file",mtime:D.mtime,mode:D.mode}),v=w.filter(S=>S.cid.code===c.code&&S.size||S.unixfs&&!S.unixfs.data&&S.unixfs.fileSize()?!0:Boolean(S.unixfs&&S.unixfs.data&&S.unixfs.data.length)).map(S=>S.cid.code===c.code?(_.addBlockSize(S.size),{Name:"",Tsize:S.size,Hash:S.cid}):(!S.unixfs||!S.unixfs.data?_.addBlockSize(S.unixfs&&S.unixfs.fileSize()||0):_.addBlockSize(S.unixfs.data.length),{Name:"",Tsize:S.size,Hash:S.cid})),C={Data:_.marshal(),Links:v},A=f(s(C));return{cid:await i(A,m,b),path:D.path,unixfs:_,size:A.length+C.Links.reduce((S,I)=>S+I.Tsize,0)}}return d};function y(D,m,b){const d=u[b.strategy];if(!d)throw n(new Error(`Unknown importer build strategy name: ${b.strategy}`),"ERR_BAD_STRATEGY");return d(h(D,m,b),p(D,m,b),b)}return file=y,file}var buffer={},base64Js={},hasRequiredBase64Js;function requireBase64Js(){if(hasRequiredBase64Js)return base64Js;hasRequiredBase64Js=1,base64Js.byteLength=e,base64Js.toByteArray=h,base64Js.fromByteArray=D;for(var n=[],t=[],i=typeof Uint8Array<"u"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=f.length;s<a;++s)n[s]=f[s],t[f.charCodeAt(s)]=s;t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63;function c(m){var b=m.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var d=m.indexOf("=");d===-1&&(d=b);var w=d===b?0:4-d%4;return[d,w]}function e(m){var b=c(m),d=b[0],w=b[1];return(d+w)*3/4-w}function u(m,b,d){return(b+d)*3/4-d}function h(m){var b,d=c(m),w=d[0],_=d[1],v=new i(u(m,w,_)),C=0,A=_>0?w-4:w,T;for(T=0;T<A;T+=4)b=t[m.charCodeAt(T)]<<18|t[m.charCodeAt(T+1)]<<12|t[m.charCodeAt(T+2)]<<6|t[m.charCodeAt(T+3)],v[C++]=b>>16&255,v[C++]=b>>8&255,v[C++]=b&255;return _===2&&(b=t[m.charCodeAt(T)]<<2|t[m.charCodeAt(T+1)]>>4,v[C++]=b&255),_===1&&(b=t[m.charCodeAt(T)]<<10|t[m.charCodeAt(T+1)]<<4|t[m.charCodeAt(T+2)]>>2,v[C++]=b>>8&255,v[C++]=b&255),v}function p(m){return n[m>>18&63]+n[m>>12&63]+n[m>>6&63]+n[m&63]}function y(m,b,d){for(var w,_=[],v=b;v<d;v+=3)w=(m[v]<<16&16711680)+(m[v+1]<<8&65280)+(m[v+2]&255),_.push(p(w));return _.join("")}function D(m){for(var b,d=m.length,w=d%3,_=[],v=16383,C=0,A=d-w;C<A;C+=v)_.push(y(m,C,C+v>A?A:C+v));return w===1?(b=m[d-1],_.push(n[b>>2]+n[b<<4&63]+"==")):w===2&&(b=(m[d-2]<<8)+m[d-1],_.push(n[b>>10]+n[b>>4&63]+n[b<<2&63]+"=")),_.join("")}return base64Js}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredIeee754;function requireIeee754(){return hasRequiredIeee754||(hasRequiredIeee754=1,ieee754.read=function(n,t,i,f,s){var a,c,e=s*8-f-1,u=(1<<e)-1,h=u>>1,p=-7,y=i?s-1:0,D=i?-1:1,m=n[t+y];for(y+=D,a=m&(1<<-p)-1,m>>=-p,p+=e;p>0;a=a*256+n[t+y],y+=D,p-=8);for(c=a&(1<<-p)-1,a>>=-p,p+=f;p>0;c=c*256+n[t+y],y+=D,p-=8);if(a===0)a=1-h;else{if(a===u)return c?NaN:(m?-1:1)*(1/0);c=c+Math.pow(2,f),a=a-h}return(m?-1:1)*c*Math.pow(2,a-f)},ieee754.write=function(n,t,i,f,s,a){var c,e,u,h=a*8-s-1,p=(1<<h)-1,y=p>>1,D=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=f?0:a-1,b=f?1:-1,d=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(e=isNaN(t)?1:0,c=p):(c=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-c))<1&&(c--,u*=2),c+y>=1?t+=D/u:t+=D*Math.pow(2,1-y),t*u>=2&&(c++,u/=2),c+y>=p?(e=0,c=p):c+y>=1?(e=(t*u-1)*Math.pow(2,s),c=c+y):(e=t*Math.pow(2,y-1)*Math.pow(2,s),c=0));s>=8;n[i+m]=e&255,m+=b,e/=256,s-=8);for(c=c<<s|e,h+=s;h>0;n[i+m]=c&255,m+=b,c/=256,h-=8);n[i+m-b]|=d*128}),ieee754}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var hasRequiredBuffer;function requireBuffer(){return hasRequiredBuffer||(hasRequiredBuffer=1,function(n){const t=requireBase64Js(),i=requireIeee754(),f=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=e,n.SlowBuffer=v,n.INSPECT_MAX_BYTES=50;const s=2147483647;n.kMaxLength=s,e.TYPED_ARRAY_SUPPORT=a(),!e.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const l=new Uint8Array(1),r={foo:function(){return 42}};return Object.setPrototypeOf(r,Uint8Array.prototype),Object.setPrototypeOf(l,r),l.foo()===42}catch{return!1}}Object.defineProperty(e.prototype,"parent",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.buffer}}),Object.defineProperty(e.prototype,"offset",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.byteOffset}});function c(l){if(l>s)throw new RangeError('The value "'+l+'" is invalid for option "size"');const r=new Uint8Array(l);return Object.setPrototypeOf(r,e.prototype),r}function e(l,r,o){if(typeof l=="number"){if(typeof r=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(l)}return u(l,r,o)}e.poolSize=8192;function u(l,r,o){if(typeof l=="string")return D(l,r);if(ArrayBuffer.isView(l))return b(l);if(l==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l);if(j(l,ArrayBuffer)||l&&j(l.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(j(l,SharedArrayBuffer)||l&&j(l.buffer,SharedArrayBuffer)))return d(l,r,o);if(typeof l=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const g=l.valueOf&&l.valueOf();if(g!=null&&g!==l)return e.from(g,r,o);const B=w(l);if(B)return B;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof l[Symbol.toPrimitive]=="function")return e.from(l[Symbol.toPrimitive]("string"),r,o);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l)}e.from=function(l,r,o){return u(l,r,o)},Object.setPrototypeOf(e.prototype,Uint8Array.prototype),Object.setPrototypeOf(e,Uint8Array);function h(l){if(typeof l!="number")throw new TypeError('"size" argument must be of type number');if(l<0)throw new RangeError('The value "'+l+'" is invalid for option "size"')}function p(l,r,o){return h(l),l<=0?c(l):r!==void 0?typeof o=="string"?c(l).fill(r,o):c(l).fill(r):c(l)}e.alloc=function(l,r,o){return p(l,r,o)};function y(l){return h(l),c(l<0?0:_(l)|0)}e.allocUnsafe=function(l){return y(l)},e.allocUnsafeSlow=function(l){return y(l)};function D(l,r){if((typeof r!="string"||r==="")&&(r="utf8"),!e.isEncoding(r))throw new TypeError("Unknown encoding: "+r);const o=C(l,r)|0;let g=c(o);const B=g.write(l,r);return B!==o&&(g=g.slice(0,B)),g}function m(l){const r=l.length<0?0:_(l.length)|0,o=c(r);for(let g=0;g<r;g+=1)o[g]=l[g]&255;return o}function b(l){if(j(l,Uint8Array)){const r=new Uint8Array(l);return d(r.buffer,r.byteOffset,r.byteLength)}return m(l)}function d(l,r,o){if(r<0||l.byteLength<r)throw new RangeError('"offset" is outside of buffer bounds');if(l.byteLength<r+(o||0))throw new RangeError('"length" is outside of buffer bounds');let g;return r===void 0&&o===void 0?g=new Uint8Array(l):o===void 0?g=new Uint8Array(l,r):g=new Uint8Array(l,r,o),Object.setPrototypeOf(g,e.prototype),g}function w(l){if(e.isBuffer(l)){const r=_(l.length)|0,o=c(r);return o.length===0||l.copy(o,0,0,r),o}if(l.length!==void 0)return typeof l.length!="number"||ee(l.length)?c(0):m(l);if(l.type==="Buffer"&&Array.isArray(l.data))return m(l.data)}function _(l){if(l>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return l|0}function v(l){return+l!=l&&(l=0),e.alloc(+l)}e.isBuffer=function(r){return r!=null&&r._isBuffer===!0&&r!==e.prototype},e.compare=function(r,o){if(j(r,Uint8Array)&&(r=e.from(r,r.offset,r.byteLength)),j(o,Uint8Array)&&(o=e.from(o,o.offset,o.byteLength)),!e.isBuffer(r)||!e.isBuffer(o))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===o)return 0;let g=r.length,B=o.length;for(let E=0,x=Math.min(g,B);E<x;++E)if(r[E]!==o[E]){g=r[E],B=o[E];break}return g<B?-1:B<g?1:0},e.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(r,o){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return e.alloc(0);let g;if(o===void 0)for(o=0,g=0;g<r.length;++g)o+=r[g].length;const B=e.allocUnsafe(o);let E=0;for(g=0;g<r.length;++g){let x=r[g];if(j(x,Uint8Array))E+x.length>B.length?(e.isBuffer(x)||(x=e.from(x)),x.copy(B,E)):Uint8Array.prototype.set.call(B,x,E);else if(e.isBuffer(x))x.copy(B,E);else throw new TypeError('"list" argument must be an Array of Buffers');E+=x.length}return B};function C(l,r){if(e.isBuffer(l))return l.length;if(ArrayBuffer.isView(l)||j(l,ArrayBuffer))return l.byteLength;if(typeof l!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof l);const o=l.length,g=arguments.length>2&&arguments[2]===!0;if(!g&&o===0)return 0;let B=!1;for(;;)switch(r){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":return Q(l).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o*2;case"hex":return o>>>1;case"base64":return ue(l).length;default:if(B)return g?-1:Q(l).length;r=(""+r).toLowerCase(),B=!0}}e.byteLength=C;function A(l,r,o){let g=!1;if((r===void 0||r<0)&&(r=0),r>this.length||((o===void 0||o>this.length)&&(o=this.length),o<=0)||(o>>>=0,r>>>=0,o<=r))return"";for(l||(l="utf8");;)switch(l){case"hex":return le(this,r,o);case"utf8":case"utf-8":return G(this,r,o);case"ascii":return fe(this,r,o);case"latin1":case"binary":return he(this,r,o);case"base64":return W(this,r,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de(this,r,o);default:if(g)throw new TypeError("Unknown encoding: "+l);l=(l+"").toLowerCase(),g=!0}}e.prototype._isBuffer=!0;function T(l,r,o){const g=l[r];l[r]=l[o],l[o]=g}e.prototype.swap16=function(){const r=this.length;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let o=0;o<r;o+=2)T(this,o,o+1);return this},e.prototype.swap32=function(){const r=this.length;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let o=0;o<r;o+=4)T(this,o,o+3),T(this,o+1,o+2);return this},e.prototype.swap64=function(){const r=this.length;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let o=0;o<r;o+=8)T(this,o,o+7),T(this,o+1,o+6),T(this,o+2,o+5),T(this,o+3,o+4);return this},e.prototype.toString=function(){const r=this.length;return r===0?"":arguments.length===0?G(this,0,r):A.apply(this,arguments)},e.prototype.toLocaleString=e.prototype.toString,e.prototype.equals=function(r){if(!e.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:e.compare(this,r)===0},e.prototype.inspect=function(){let r="";const o=n.INSPECT_MAX_BYTES;return r=this.toString("hex",0,o).replace(/(.{2})/g,"$1 ").trim(),this.length>o&&(r+=" ... "),"<Buffer "+r+">"},f&&(e.prototype[f]=e.prototype.inspect),e.prototype.compare=function(r,o,g,B,E){if(j(r,Uint8Array)&&(r=e.from(r,r.offset,r.byteLength)),!e.isBuffer(r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof r);if(o===void 0&&(o=0),g===void 0&&(g=r?r.length:0),B===void 0&&(B=0),E===void 0&&(E=this.length),o<0||g>r.length||B<0||E>this.length)throw new RangeError("out of range index");if(B>=E&&o>=g)return 0;if(B>=E)return-1;if(o>=g)return 1;if(o>>>=0,g>>>=0,B>>>=0,E>>>=0,this===r)return 0;let x=E-B,q=g-o;const L=Math.min(x,q),P=this.slice(B,E),z=r.slice(o,g);for(let $=0;$<L;++$)if(P[$]!==z[$]){x=P[$],q=z[$];break}return x<q?-1:q<x?1:0};function S(l,r,o,g,B){if(l.length===0)return-1;if(typeof o=="string"?(g=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,ee(o)&&(o=B?0:l.length-1),o<0&&(o=l.length+o),o>=l.length){if(B)return-1;o=l.length-1}else if(o<0)if(B)o=0;else return-1;if(typeof r=="string"&&(r=e.from(r,g)),e.isBuffer(r))return r.length===0?-1:I(l,r,o,g,B);if(typeof r=="number")return r=r&255,typeof Uint8Array.prototype.indexOf=="function"?B?Uint8Array.prototype.indexOf.call(l,r,o):Uint8Array.prototype.lastIndexOf.call(l,r,o):I(l,[r],o,g,B);throw new TypeError("val must be string, number or Buffer")}function I(l,r,o,g,B){let E=1,x=l.length,q=r.length;if(g!==void 0&&(g=String(g).toLowerCase(),g==="ucs2"||g==="ucs-2"||g==="utf16le"||g==="utf-16le")){if(l.length<2||r.length<2)return-1;E=2,x/=2,q/=2,o/=2}function L(z,$){return E===1?z[$]:z.readUInt16BE($*E)}let P;if(B){let z=-1;for(P=o;P<x;P++)if(L(l,P)===L(r,z===-1?0:P-z)){if(z===-1&&(z=P),P-z+1===q)return z*E}else z!==-1&&(P-=P-z),z=-1}else for(o+q>x&&(o=x-q),P=o;P>=0;P--){let z=!0;for(let $=0;$<q;$++)if(L(l,P+$)!==L(r,$)){z=!1;break}if(z)return P}return-1}e.prototype.includes=function(r,o,g){return this.indexOf(r,o,g)!==-1},e.prototype.indexOf=function(r,o,g){return S(this,r,o,g,!0)},e.prototype.lastIndexOf=function(r,o,g){return S(this,r,o,g,!1)};function k(l,r,o,g){o=Number(o)||0;const B=l.length-o;g?(g=Number(g),g>B&&(g=B)):g=B;const E=r.length;g>E/2&&(g=E/2);let x;for(x=0;x<g;++x){const q=parseInt(r.substr(x*2,2),16);if(ee(q))return x;l[o+x]=q}return x}function F(l,r,o,g){return Y(Q(r,l.length-o),l,o,g)}function O(l,r,o,g){return Y(De(r),l,o,g)}function M(l,r,o,g){return Y(ue(r),l,o,g)}function H(l,r,o,g){return Y(me(r,l.length-o),l,o,g)}e.prototype.write=function(r,o,g,B){if(o===void 0)B="utf8",g=this.length,o=0;else if(g===void 0&&typeof o=="string")B=o,g=this.length,o=0;else if(isFinite(o))o=o>>>0,isFinite(g)?(g=g>>>0,B===void 0&&(B="utf8")):(B=g,g=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const E=this.length-o;if((g===void 0||g>E)&&(g=E),r.length>0&&(g<0||o<0)||o>this.length)throw new RangeError("Attempt to write outside buffer bounds");B||(B="utf8");let x=!1;for(;;)switch(B){case"hex":return k(this,r,o,g);case"utf8":case"utf-8":return F(this,r,o,g);case"ascii":case"latin1":case"binary":return O(this,r,o,g);case"base64":return M(this,r,o,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,r,o,g);default:if(x)throw new TypeError("Unknown encoding: "+B);B=(""+B).toLowerCase(),x=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function W(l,r,o){return r===0&&o===l.length?t.fromByteArray(l):t.fromByteArray(l.slice(r,o))}function G(l,r,o){o=Math.min(l.length,o);const g=[];let B=r;for(;B<o;){const E=l[B];let x=null,q=E>239?4:E>223?3:E>191?2:1;if(B+q<=o){let L,P,z,$;switch(q){case 1:E<128&&(x=E);break;case 2:L=l[B+1],(L&192)===128&&($=(E&31)<<6|L&63,$>127&&(x=$));break;case 3:L=l[B+1],P=l[B+2],(L&192)===128&&(P&192)===128&&($=(E&15)<<12|(L&63)<<6|P&63,$>2047&&($<55296||$>57343)&&(x=$));break;case 4:L=l[B+1],P=l[B+2],z=l[B+3],(L&192)===128&&(P&192)===128&&(z&192)===128&&($=(E&15)<<18|(L&63)<<12|(P&63)<<6|z&63,$>65535&&$<1114112&&(x=$))}}x===null?(x=65533,q=1):x>65535&&(x-=65536,g.push(x>>>10&1023|55296),x=56320|x&1023),g.push(x),B+=q}return ce(g)}const R=4096;function ce(l){const r=l.length;if(r<=R)return String.fromCharCode.apply(String,l);let o="",g=0;for(;g<r;)o+=String.fromCharCode.apply(String,l.slice(g,g+=R));return o}function fe(l,r,o){let g="";o=Math.min(l.length,o);for(let B=r;B<o;++B)g+=String.fromCharCode(l[B]&127);return g}function he(l,r,o){let g="";o=Math.min(l.length,o);for(let B=r;B<o;++B)g+=String.fromCharCode(l[B]);return g}function le(l,r,o){const g=l.length;(!r||r<0)&&(r=0),(!o||o<0||o>g)&&(o=g);let B="";for(let E=r;E<o;++E)B+=be[l[E]];return B}function de(l,r,o){const g=l.slice(r,o);let B="";for(let E=0;E<g.length-1;E+=2)B+=String.fromCharCode(g[E]+g[E+1]*256);return B}e.prototype.slice=function(r,o){const g=this.length;r=~~r,o=o===void 0?g:~~o,r<0?(r+=g,r<0&&(r=0)):r>g&&(r=g),o<0?(o+=g,o<0&&(o=0)):o>g&&(o=g),o<r&&(o=r);const B=this.subarray(r,o);return Object.setPrototypeOf(B,e.prototype),B};function N(l,r,o){if(l%1!==0||l<0)throw new RangeError("offset is not uint");if(l+r>o)throw new RangeError("Trying to access beyond buffer length")}e.prototype.readUintLE=e.prototype.readUIntLE=function(r,o,g){r=r>>>0,o=o>>>0,g||N(r,o,this.length);let B=this[r],E=1,x=0;for(;++x<o&&(E*=256);)B+=this[r+x]*E;return B},e.prototype.readUintBE=e.prototype.readUIntBE=function(r,o,g){r=r>>>0,o=o>>>0,g||N(r,o,this.length);let B=this[r+--o],E=1;for(;o>0&&(E*=256);)B+=this[r+--o]*E;return B},e.prototype.readUint8=e.prototype.readUInt8=function(r,o){return r=r>>>0,o||N(r,1,this.length),this[r]},e.prototype.readUint16LE=e.prototype.readUInt16LE=function(r,o){return r=r>>>0,o||N(r,2,this.length),this[r]|this[r+1]<<8},e.prototype.readUint16BE=e.prototype.readUInt16BE=function(r,o){return r=r>>>0,o||N(r,2,this.length),this[r]<<8|this[r+1]},e.prototype.readUint32LE=e.prototype.readUInt32LE=function(r,o){return r=r>>>0,o||N(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+this[r+3]*16777216},e.prototype.readUint32BE=e.prototype.readUInt32BE=function(r,o){return r=r>>>0,o||N(r,4,this.length),this[r]*16777216+(this[r+1]<<16|this[r+2]<<8|this[r+3])},e.prototype.readBigUInt64LE=V(function(r){r=r>>>0,K(r,"offset");const o=this[r],g=this[r+7];(o===void 0||g===void 0)&&X(r,this.length-8);const B=o+this[++r]*2**8+this[++r]*2**16+this[++r]*2**24,E=this[++r]+this[++r]*2**8+this[++r]*2**16+g*2**24;return BigInt(B)+(BigInt(E)<<BigInt(32))}),e.prototype.readBigUInt64BE=V(function(r){r=r>>>0,K(r,"offset");const o=this[r],g=this[r+7];(o===void 0||g===void 0)&&X(r,this.length-8);const B=o*2**24+this[++r]*2**16+this[++r]*2**8+this[++r],E=this[++r]*2**24+this[++r]*2**16+this[++r]*2**8+g;return(BigInt(B)<<BigInt(32))+BigInt(E)}),e.prototype.readIntLE=function(r,o,g){r=r>>>0,o=o>>>0,g||N(r,o,this.length);let B=this[r],E=1,x=0;for(;++x<o&&(E*=256);)B+=this[r+x]*E;return E*=128,B>=E&&(B-=Math.pow(2,8*o)),B},e.prototype.readIntBE=function(r,o,g){r=r>>>0,o=o>>>0,g||N(r,o,this.length);let B=o,E=1,x=this[r+--B];for(;B>0&&(E*=256);)x+=this[r+--B]*E;return E*=128,x>=E&&(x-=Math.pow(2,8*o)),x},e.prototype.readInt8=function(r,o){return r=r>>>0,o||N(r,1,this.length),this[r]&128?(255-this[r]+1)*-1:this[r]},e.prototype.readInt16LE=function(r,o){r=r>>>0,o||N(r,2,this.length);const g=this[r]|this[r+1]<<8;return g&32768?g|4294901760:g},e.prototype.readInt16BE=function(r,o){r=r>>>0,o||N(r,2,this.length);const g=this[r+1]|this[r]<<8;return g&32768?g|4294901760:g},e.prototype.readInt32LE=function(r,o){return r=r>>>0,o||N(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},e.prototype.readInt32BE=function(r,o){return r=r>>>0,o||N(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},e.prototype.readBigInt64LE=V(function(r){r=r>>>0,K(r,"offset");const o=this[r],g=this[r+7];(o===void 0||g===void 0)&&X(r,this.length-8);const B=this[r+4]+this[r+5]*2**8+this[r+6]*2**16+(g<<24);return(BigInt(B)<<BigInt(32))+BigInt(o+this[++r]*2**8+this[++r]*2**16+this[++r]*2**24)}),e.prototype.readBigInt64BE=V(function(r){r=r>>>0,K(r,"offset");const o=this[r],g=this[r+7];(o===void 0||g===void 0)&&X(r,this.length-8);const B=(o<<24)+this[++r]*2**16+this[++r]*2**8+this[++r];return(BigInt(B)<<BigInt(32))+BigInt(this[++r]*2**24+this[++r]*2**16+this[++r]*2**8+g)}),e.prototype.readFloatLE=function(r,o){return r=r>>>0,o||N(r,4,this.length),i.read(this,r,!0,23,4)},e.prototype.readFloatBE=function(r,o){return r=r>>>0,o||N(r,4,this.length),i.read(this,r,!1,23,4)},e.prototype.readDoubleLE=function(r,o){return r=r>>>0,o||N(r,8,this.length),i.read(this,r,!0,52,8)},e.prototype.readDoubleBE=function(r,o){return r=r>>>0,o||N(r,8,this.length),i.read(this,r,!1,52,8)};function U(l,r,o,g,B,E){if(!e.isBuffer(l))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>B||r<E)throw new RangeError('"value" argument is out of bounds');if(o+g>l.length)throw new RangeError("Index out of range")}e.prototype.writeUintLE=e.prototype.writeUIntLE=function(r,o,g,B){if(r=+r,o=o>>>0,g=g>>>0,!B){const q=Math.pow(2,8*g)-1;U(this,r,o,g,q,0)}let E=1,x=0;for(this[o]=r&255;++x<g&&(E*=256);)this[o+x]=r/E&255;return o+g},e.prototype.writeUintBE=e.prototype.writeUIntBE=function(r,o,g,B){if(r=+r,o=o>>>0,g=g>>>0,!B){const q=Math.pow(2,8*g)-1;U(this,r,o,g,q,0)}let E=g-1,x=1;for(this[o+E]=r&255;--E>=0&&(x*=256);)this[o+E]=r/x&255;return o+g},e.prototype.writeUint8=e.prototype.writeUInt8=function(r,o,g){return r=+r,o=o>>>0,g||U(this,r,o,1,255,0),this[o]=r&255,o+1},e.prototype.writeUint16LE=e.prototype.writeUInt16LE=function(r,o,g){return r=+r,o=o>>>0,g||U(this,r,o,2,65535,0),this[o]=r&255,this[o+1]=r>>>8,o+2},e.prototype.writeUint16BE=e.prototype.writeUInt16BE=function(r,o,g){return r=+r,o=o>>>0,g||U(this,r,o,2,65535,0),this[o]=r>>>8,this[o+1]=r&255,o+2},e.prototype.writeUint32LE=e.prototype.writeUInt32LE=function(r,o,g){return r=+r,o=o>>>0,g||U(this,r,o,4,4294967295,0),this[o+3]=r>>>24,this[o+2]=r>>>16,this[o+1]=r>>>8,this[o]=r&255,o+4},e.prototype.writeUint32BE=e.prototype.writeUInt32BE=function(r,o,g){return r=+r,o=o>>>0,g||U(this,r,o,4,4294967295,0),this[o]=r>>>24,this[o+1]=r>>>16,this[o+2]=r>>>8,this[o+3]=r&255,o+4};function te(l,r,o,g,B){ae(r,g,B,l,o,7);let E=Number(r&BigInt(4294967295));l[o++]=E,E=E>>8,l[o++]=E,E=E>>8,l[o++]=E,E=E>>8,l[o++]=E;let x=Number(r>>BigInt(32)&BigInt(4294967295));return l[o++]=x,x=x>>8,l[o++]=x,x=x>>8,l[o++]=x,x=x>>8,l[o++]=x,o}function re(l,r,o,g,B){ae(r,g,B,l,o,7);let E=Number(r&BigInt(4294967295));l[o+7]=E,E=E>>8,l[o+6]=E,E=E>>8,l[o+5]=E,E=E>>8,l[o+4]=E;let x=Number(r>>BigInt(32)&BigInt(4294967295));return l[o+3]=x,x=x>>8,l[o+2]=x,x=x>>8,l[o+1]=x,x=x>>8,l[o]=x,o+8}e.prototype.writeBigUInt64LE=V(function(r,o=0){return te(this,r,o,BigInt(0),BigInt("0xffffffffffffffff"))}),e.prototype.writeBigUInt64BE=V(function(r,o=0){return re(this,r,o,BigInt(0),BigInt("0xffffffffffffffff"))}),e.prototype.writeIntLE=function(r,o,g,B){if(r=+r,o=o>>>0,!B){const L=Math.pow(2,8*g-1);U(this,r,o,g,L-1,-L)}let E=0,x=1,q=0;for(this[o]=r&255;++E<g&&(x*=256);)r<0&&q===0&&this[o+E-1]!==0&&(q=1),this[o+E]=(r/x>>0)-q&255;return o+g},e.prototype.writeIntBE=function(r,o,g,B){if(r=+r,o=o>>>0,!B){const L=Math.pow(2,8*g-1);U(this,r,o,g,L-1,-L)}let E=g-1,x=1,q=0;for(this[o+E]=r&255;--E>=0&&(x*=256);)r<0&&q===0&&this[o+E+1]!==0&&(q=1),this[o+E]=(r/x>>0)-q&255;return o+g},e.prototype.writeInt8=function(r,o,g){return r=+r,o=o>>>0,g||U(this,r,o,1,127,-128),r<0&&(r=255+r+1),this[o]=r&255,o+1},e.prototype.writeInt16LE=function(r,o,g){return r=+r,o=o>>>0,g||U(this,r,o,2,32767,-32768),this[o]=r&255,this[o+1]=r>>>8,o+2},e.prototype.writeInt16BE=function(r,o,g){return r=+r,o=o>>>0,g||U(this,r,o,2,32767,-32768),this[o]=r>>>8,this[o+1]=r&255,o+2},e.prototype.writeInt32LE=function(r,o,g){return r=+r,o=o>>>0,g||U(this,r,o,4,2147483647,-2147483648),this[o]=r&255,this[o+1]=r>>>8,this[o+2]=r>>>16,this[o+3]=r>>>24,o+4},e.prototype.writeInt32BE=function(r,o,g){return r=+r,o=o>>>0,g||U(this,r,o,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),this[o]=r>>>24,this[o+1]=r>>>16,this[o+2]=r>>>8,this[o+3]=r&255,o+4},e.prototype.writeBigInt64LE=V(function(r,o=0){return te(this,r,o,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),e.prototype.writeBigInt64BE=V(function(r,o=0){return re(this,r,o,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ne(l,r,o,g,B,E){if(o+g>l.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function ie(l,r,o,g,B){return r=+r,o=o>>>0,B||ne(l,r,o,4),i.write(l,r,o,g,23,4),o+4}e.prototype.writeFloatLE=function(r,o,g){return ie(this,r,o,!0,g)},e.prototype.writeFloatBE=function(r,o,g){return ie(this,r,o,!1,g)};function oe(l,r,o,g,B){return r=+r,o=o>>>0,B||ne(l,r,o,8),i.write(l,r,o,g,52,8),o+8}e.prototype.writeDoubleLE=function(r,o,g){return oe(this,r,o,!0,g)},e.prototype.writeDoubleBE=function(r,o,g){return oe(this,r,o,!1,g)},e.prototype.copy=function(r,o,g,B){if(!e.isBuffer(r))throw new TypeError("argument should be a Buffer");if(g||(g=0),!B&&B!==0&&(B=this.length),o>=r.length&&(o=r.length),o||(o=0),B>0&&B<g&&(B=g),B===g||r.length===0||this.length===0)return 0;if(o<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("sourceEnd out of bounds");B>this.length&&(B=this.length),r.length-o<B-g&&(B=r.length-o+g);const E=B-g;return this===r&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(o,g,B):Uint8Array.prototype.set.call(r,this.subarray(g,B),o),E},e.prototype.fill=function(r,o,g,B){if(typeof r=="string"){if(typeof o=="string"?(B=o,o=0,g=this.length):typeof g=="string"&&(B=g,g=this.length),B!==void 0&&typeof B!="string")throw new TypeError("encoding must be a string");if(typeof B=="string"&&!e.isEncoding(B))throw new TypeError("Unknown encoding: "+B);if(r.length===1){const x=r.charCodeAt(0);(B==="utf8"&&x<128||B==="latin1")&&(r=x)}}else typeof r=="number"?r=r&255:typeof r=="boolean"&&(r=Number(r));if(o<0||this.length<o||this.length<g)throw new RangeError("Out of range index");if(g<=o)return this;o=o>>>0,g=g===void 0?this.length:g>>>0,r||(r=0);let E;if(typeof r=="number")for(E=o;E<g;++E)this[E]=r;else{const x=e.isBuffer(r)?r:e.from(r,B),q=x.length;if(q===0)throw new TypeError('The value "'+r+'" is invalid for argument "value"');for(E=0;E<g-o;++E)this[E+o]=x[E%q]}return this};const J={};function Z(l,r,o){J[l]=class extends o{constructor(){super(),Object.defineProperty(this,"message",{value:r.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${l}]`,this.stack,delete this.name}get code(){return l}set code(B){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:B,writable:!0})}toString(){return`${this.name} [${l}]: ${this.message}`}}}Z("ERR_BUFFER_OUT_OF_BOUNDS",function(l){return l?`${l} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Z("ERR_INVALID_ARG_TYPE",function(l,r){return`The "${l}" argument must be of type number. Received type ${typeof r}`},TypeError),Z("ERR_OUT_OF_RANGE",function(l,r,o){let g=`The value of "${l}" is out of range.`,B=o;return Number.isInteger(o)&&Math.abs(o)>2**32?B=se(String(o)):typeof o=="bigint"&&(B=String(o),(o>BigInt(2)**BigInt(32)||o<-(BigInt(2)**BigInt(32)))&&(B=se(B)),B+="n"),g+=` It must be ${r}. Received ${B}`,g},RangeError);function se(l){let r="",o=l.length;const g=l[0]==="-"?1:0;for(;o>=g+4;o-=3)r=`_${l.slice(o-3,o)}${r}`;return`${l.slice(0,o)}${r}`}function pe(l,r,o){K(r,"offset"),(l[r]===void 0||l[r+o]===void 0)&&X(r,l.length-(o+1))}function ae(l,r,o,g,B,E){if(l>o||l<r){const x=typeof r=="bigint"?"n":"";let q;throw E>3?r===0||r===BigInt(0)?q=`>= 0${x} and < 2${x} ** ${(E+1)*8}${x}`:q=`>= -(2${x} ** ${(E+1)*8-1}${x}) and < 2 ** ${(E+1)*8-1}${x}`:q=`>= ${r}${x} and <= ${o}${x}`,new J.ERR_OUT_OF_RANGE("value",q,l)}pe(g,B,E)}function K(l,r){if(typeof l!="number")throw new J.ERR_INVALID_ARG_TYPE(r,"number",l)}function X(l,r,o){throw Math.floor(l)!==l?(K(l,o),new J.ERR_OUT_OF_RANGE(o||"offset","an integer",l)):r<0?new J.ERR_BUFFER_OUT_OF_BOUNDS:new J.ERR_OUT_OF_RANGE(o||"offset",`>= ${o?1:0} and <= ${r}`,l)}const ye=/[^+/0-9A-Za-z-_]/g;function ge(l){if(l=l.split("=")[0],l=l.trim().replace(ye,""),l.length<2)return"";for(;l.length%4!==0;)l=l+"=";return l}function Q(l,r){r=r||1/0;let o;const g=l.length;let B=null;const E=[];for(let x=0;x<g;++x){if(o=l.charCodeAt(x),o>55295&&o<57344){if(!B){if(o>56319){(r-=3)>-1&&E.push(239,191,189);continue}else if(x+1===g){(r-=3)>-1&&E.push(239,191,189);continue}B=o;continue}if(o<56320){(r-=3)>-1&&E.push(239,191,189),B=o;continue}o=(B-55296<<10|o-56320)+65536}else B&&(r-=3)>-1&&E.push(239,191,189);if(B=null,o<128){if((r-=1)<0)break;E.push(o)}else if(o<2048){if((r-=2)<0)break;E.push(o>>6|192,o&63|128)}else if(o<65536){if((r-=3)<0)break;E.push(o>>12|224,o>>6&63|128,o&63|128)}else if(o<1114112){if((r-=4)<0)break;E.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else throw new Error("Invalid code point")}return E}function De(l){const r=[];for(let o=0;o<l.length;++o)r.push(l.charCodeAt(o)&255);return r}function me(l,r){let o,g,B;const E=[];for(let x=0;x<l.length&&!((r-=2)<0);++x)o=l.charCodeAt(x),g=o>>8,B=o%256,E.push(B),E.push(g);return E}function ue(l){return t.toByteArray(ge(l))}function Y(l,r,o,g){let B;for(B=0;B<g&&!(B+o>=r.length||B>=l.length);++B)r[B+o]=l[B];return B}function j(l,r){return l instanceof r||l!=null&&l.constructor!=null&&l.constructor.name!=null&&l.constructor.name===r.name}function ee(l){return l!==l}const be=function(){const l="0123456789abcdef",r=new Array(256);for(let o=0;o<16;++o){const g=o*16;for(let B=0;B<16;++B)r[g+B]=l[o]+l[B]}return r}();function V(l){return typeof BigInt>"u"?we:l}function we(){throw new Error("BigInt not supported")}}(buffer)),buffer}var BufferList_1,hasRequiredBufferList;function requireBufferList(){if(hasRequiredBufferList)return BufferList_1;hasRequiredBufferList=1;const{Buffer:n}=requireBuffer(),t=Symbol.for("BufferList");function i(f){if(!(this instanceof i))return new i(f);i._init.call(this,f)}return i._init=function(s){Object.defineProperty(this,t,{value:!0}),this._bufs=[],this.length=0,s&&this.append(s)},i.prototype._new=function(s){return new i(s)},i.prototype._offset=function(s){if(s===0)return[0,0];let a=0;for(let c=0;c<this._bufs.length;c++){const e=a+this._bufs[c].length;if(s<e||c===this._bufs.length-1)return[c,s-a];a=e}},i.prototype._reverseOffset=function(f){const s=f[0];let a=f[1];for(let c=0;c<s;c++)a+=this._bufs[c].length;return a},i.prototype.get=function(s){if(s>this.length||s<0)return;const a=this._offset(s);return this._bufs[a[0]][a[1]]},i.prototype.slice=function(s,a){return typeof s=="number"&&s<0&&(s+=this.length),typeof a=="number"&&a<0&&(a+=this.length),this.copy(null,0,s,a)},i.prototype.copy=function(s,a,c,e){if((typeof c!="number"||c<0)&&(c=0),(typeof e!="number"||e>this.length)&&(e=this.length),c>=this.length||e<=0)return s||n.alloc(0);const u=!!s,h=this._offset(c),p=e-c;let y=p,D=u&&a||0,m=h[1];if(c===0&&e===this.length){if(!u)return this._bufs.length===1?this._bufs[0]:n.concat(this._bufs,this.length);for(let b=0;b<this._bufs.length;b++)this._bufs[b].copy(s,D),D+=this._bufs[b].length;return s}if(y<=this._bufs[h[0]].length-m)return u?this._bufs[h[0]].copy(s,a,m,m+y):this._bufs[h[0]].slice(m,m+y);u||(s=n.allocUnsafe(p));for(let b=h[0];b<this._bufs.length;b++){const d=this._bufs[b].length-m;if(y>d)this._bufs[b].copy(s,D,m),D+=d;else{this._bufs[b].copy(s,D,m,m+y),D+=d;break}y-=d,m&&(m=0)}return s.length>D?s.slice(0,D):s},i.prototype.shallowSlice=function(s,a){if(s=s||0,a=typeof a!="number"?this.length:a,s<0&&(s+=this.length),a<0&&(a+=this.length),s===a)return this._new();const c=this._offset(s),e=this._offset(a),u=this._bufs.slice(c[0],e[0]+1);return e[1]===0?u.pop():u[u.length-1]=u[u.length-1].slice(0,e[1]),c[1]!==0&&(u[0]=u[0].slice(c[1])),this._new(u)},i.prototype.toString=function(s,a,c){return this.slice(a,c).toString(s)},i.prototype.consume=function(s){if(s=Math.trunc(s),Number.isNaN(s)||s<=0)return this;for(;this._bufs.length;)if(s>=this._bufs[0].length)s-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(s),this.length-=s;break}return this},i.prototype.duplicate=function(){const s=this._new();for(let a=0;a<this._bufs.length;a++)s.append(this._bufs[a]);return s},i.prototype.append=function(s){if(s==null)return this;if(s.buffer)this._appendBuffer(n.from(s.buffer,s.byteOffset,s.byteLength));else if(Array.isArray(s))for(let a=0;a<s.length;a++)this.append(s[a]);else if(this._isBufferList(s))for(let a=0;a<s._bufs.length;a++)this.append(s._bufs[a]);else typeof s=="number"&&(s=s.toString()),this._appendBuffer(n.from(s));return this},i.prototype._appendBuffer=function(s){this._bufs.push(s),this.length+=s.length},i.prototype.indexOf=function(f,s,a){if(a===void 0&&typeof s=="string"&&(a=s,s=void 0),typeof f=="function"||Array.isArray(f))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof f=="number"?f=n.from([f]):typeof f=="string"?f=n.from(f,a):this._isBufferList(f)?f=f.slice():Array.isArray(f.buffer)?f=n.from(f.buffer,f.byteOffset,f.byteLength):n.isBuffer(f)||(f=n.from(f)),s=Number(s||0),isNaN(s)&&(s=0),s<0&&(s=this.length+s),s<0&&(s=0),f.length===0)return s>this.length?this.length:s;const c=this._offset(s);let e=c[0],u=c[1];for(;e<this._bufs.length;e++){const h=this._bufs[e];for(;u<h.length;)if(h.length-u>=f.length){const y=h.indexOf(f,u);if(y!==-1)return this._reverseOffset([e,y]);u=h.length-f.length+1}else{const y=this._reverseOffset([e,u]);if(this._match(y,f))return y;u++}u=0}return-1},i.prototype._match=function(f,s){if(this.length-f<s.length)return!1;for(let a=0;a<s.length;a++)if(this.get(f+a)!==s[a])return!1;return!0},function(){const f={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const s in f)(function(a){f[a]===null?i.prototype[a]=function(c,e){return this.slice(c,c+e)[a](0,e)}:i.prototype[a]=function(c=0){return this.slice(c,c+f[a])[a](0)}})(s)}(),i.prototype._isBufferList=function(s){return s instanceof i||i.isBufferList(s)},i.isBufferList=function(s){return s!=null&&s[t]},BufferList_1=i,BufferList_1}var fixedSize,hasRequiredFixedSize;function requireFixedSize(){if(hasRequiredFixedSize)return fixedSize;hasRequiredFixedSize=1;const n=requireBufferList();return fixedSize=async function*(i,f){let s=new n,a=0,c=!1;const e=f.maxChunkSize;for await(const u of i)for(s.append(u),a+=u.length;a>=e;)if(yield s.slice(0,e),c=!0,e===s.length)s=new n,a=0;else{const h=new n;h.append(s.shallowSlice(e)),s=h,a-=e}(!c||a)&&(yield s.slice(0,a))},fixedSize}var validateChunks_1,hasRequiredValidateChunks;function requireValidateChunks(){if(hasRequiredValidateChunks)return validateChunks_1;hasRequiredValidateChunks=1;const n=requireErrCode(),t=fromString_1;async function*i(f){for await(const s of f){if(s.length===void 0)throw n(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if(typeof s=="string"||s instanceof String)yield t(s.toString());else if(Array.isArray(s))yield Uint8Array.from(s);else if(s instanceof Uint8Array)yield s;else throw n(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}}return validateChunks_1=i,validateChunks_1}var dagBuilder_1,hasRequiredDagBuilder;function requireDagBuilder(){if(hasRequiredDagBuilder)return dagBuilder_1;hasRequiredDagBuilder=1;const n=requireDir$1(),t=requireFile(),i=requireErrCode();function f(e){return Symbol.iterator in e}function s(e){return Symbol.asyncIterator in e}function a(e){try{if(e instanceof Uint8Array)return async function*(){yield e}();if(f(e))return async function*(){yield*e}();if(s(e))return e}catch{throw i(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw i(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}async function*c(e,u,h){for await(const p of e)if(p.path&&(p.path.substring(0,2)==="./"&&(h.wrapWithDirectory=!0),p.path=p.path.split("/").filter(y=>y&&y!==".").join("/")),p.content){let y;typeof h.chunker=="function"?y=h.chunker:y=requireFixedSize();let D;typeof h.chunkValidator=="function"?D=h.chunkValidator:D=requireValidateChunks();const m={path:p.path,mtime:p.mtime,mode:p.mode,content:y(D(a(p.content),h),h)};yield()=>t(m,u,h)}else if(p.path){const y={path:p.path,mtime:p.mtime,mode:p.mode};yield()=>n(y,u,h)}else throw new Error("Import candidate must have content or path or both")}return dagBuilder_1=c,dagBuilder_1}var dir,hasRequiredDir;function requireDir(){if(hasRequiredDir)return dir;hasRequiredDir=1;class n{constructor(i,f){this.options=f||{},this.root=i.root,this.dir=i.dir,this.path=i.path,this.dirty=i.dirty,this.flat=i.flat,this.parent=i.parent,this.parentKey=i.parentKey,this.unixfs=i.unixfs,this.mode=i.mode,this.mtime=i.mtime,this.cid=void 0,this.size=void 0}async put(i,f){}get(i){return Promise.resolve(this)}async*eachChildSeries(){}async*flush(i){}}return dir=n,dir}var dirFlat,hasRequiredDirFlat;function requireDirFlat(){if(hasRequiredDirFlat)return dirFlat;hasRequiredDirFlat=1;const{encode:n,prepare:t}=require$$0,{UnixFS:i}=requireSrc$1(),f=requireDir(),s=requirePersist();class a extends f{constructor(e,u){super(e,u),this._children={}}async put(e,u){this.cid=void 0,this.size=void 0,this._children[e]=u}get(e){return Promise.resolve(this._children[e])}childCount(){return Object.keys(this._children).length}directChildrenCount(){return this.childCount()}onlyChild(){return this._children[Object.keys(this._children)[0]]}async*eachChildSeries(){const e=Object.keys(this._children);for(let u=0;u<e.length;u++){const h=e[u];yield{key:h,child:this._children[h]}}}async*flush(e){const u=Object.keys(this._children),h=[];for(let d=0;d<u.length;d++){let w=this._children[u[d]];if(w instanceof f)for await(const _ of w.flush(e))w=_,yield w;w.size!=null&&w.cid&&h.push({Name:u[d],Tsize:w.size,Hash:w.cid})}const p=new i({type:"directory",mtime:this.mtime,mode:this.mode}),y={Data:p.marshal(),Links:h},D=n(t(y)),m=await s(D,e,this.options),b=D.length+y.Links.reduce((d,w)=>d+(w.Tsize==null?0:w.Tsize),0);this.cid=m,this.size=b,yield{cid:m,unixfs:p,path:this.path,size:b}}}return dirFlat=a,dirFlat}var sparseArray,hasRequiredSparseArray;function requireSparseArray(){if(hasRequiredSparseArray)return sparseArray;hasRequiredSparseArray=1;const n=7;sparseArray=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(c,e){let u=this._internalPositionFor(c,!1);if(e===void 0)u!==-1&&(this._unsetInternalPos(u),this._unsetBit(c),this._changedLength=!0,this._changedData=!0);else{let h=!1;u===-1?(u=this._data.length,this._setBit(c),this._changedData=!0):h=!0,this._setInternalPos(u,c,e,h),this._changedLength=!0}}unset(c){this.set(c,void 0)}get(c){this._sortData();const e=this._internalPositionFor(c,!0);if(e!==-1)return this._data[e][1]}push(c){return this.set(this.length,c),this.length}get length(){if(this._sortData(),this._changedLength){const c=this._data[this._data.length-1];this._length=c?c[0]+1:0,this._changedLength=!1}return this._length}forEach(c){let e=0;for(;e<this.length;)c(this.get(e),e,this),e++}map(c){let e=0,u=new Array(this.length);for(;e<this.length;)u[e]=c(this.get(e),e,this),e++;return u}reduce(c,e){let u=0,h=e;for(;u<this.length;){const p=this.get(u);h=c(h,p,u),u++}return h}find(c){let e=0,u,h;for(;e<this.length&&!u;)h=this.get(e),u=c(h),e++;return u?h:void 0}_internalPositionFor(c,e){const u=this._bytePosFor(c,e);if(u>=this._bitArrays.length)return-1;const h=this._bitArrays[u],p=c-u*n;if(!((h&1<<p)>0))return-1;const D=this._bitArrays.slice(0,u).reduce(t,0),m=~(4294967295<<p+1),b=i(h&m);return D+b-1}_bytePosFor(c,e){const u=Math.floor(c/n),h=u+1;for(;!e&&this._bitArrays.length<h;)this._bitArrays.push(0);return u}_setBit(c){const e=this._bytePosFor(c,!1);this._bitArrays[e]|=1<<c-e*n}_unsetBit(c){const e=this._bytePosFor(c,!1);this._bitArrays[e]&=~(1<<c-e*n)}_setInternalPos(c,e,u,h){const p=this._data,y=[e,u];if(h)this._sortData(),p[c]=y;else{if(p.length)if(p[p.length-1][0]>=e)p.push(y);else if(p[0][0]<=e)p.unshift(y);else{const D=Math.round(p.length/2);this._data=p.slice(0,D).concat(y).concat(p.slice(D))}else this._data.push(y);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(c){this._data.splice(c,1)}_sortData(){this._changedData&&this._data.sort(f),this._changedData=!1}bitField(){const c=[];let e=8,u=0,h=0,p;const y=this._bitArrays.slice();for(;y.length||u;){u===0&&(p=y.shift(),u=7);const m=Math.min(u,e),b=~(255<<m),d=p&b;h|=d<<8-e,p=p>>>m,u-=m,e-=m,(!e||!u&&!y.length)&&(c.push(h),h=0,e=8)}for(var D=c.length-1;D>0&&c[D]===0;D--)c.pop();return c}compactArray(){return this._sortData(),this._data.map(s)}};function t(a,c){return a+i(c)}function i(a){let c=a;return c=c-(c>>1&1431655765),c=(c&858993459)+(c>>2&858993459),(c+(c>>4)&252645135)*16843009>>24}function f(a,c){return a[0]-c[0]}function s(a){return a[1]}return sparseArray}function asUint8Array(n){return globalThis.Buffer!=null?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):n}function allocUnsafe(n=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?asUint8Array(globalThis.Buffer.allocUnsafe(n)):new Uint8Array(n)}function createCodec(n,t,i,f){return{name:n,prefix:t,encoder:{name:n,prefix:t,encode:i},decoder:{decode:f}}}const string=createCodec("utf8","u",n=>"u"+new TextDecoder("utf8").decode(n),n=>new TextEncoder().encode(n.substring(1))),ascii=createCodec("ascii","a",n=>{let t="a";for(let i=0;i<n.length;i++)t+=String.fromCharCode(n[i]);return t},n=>{n=n.substring(1);const t=allocUnsafe(n.length);for(let i=0;i<n.length;i++)t[i]=n.charCodeAt(i);return t}),BASES={utf8:string,"utf-8":string,hex:bases$2.base16,latin1:ascii,ascii,binary:ascii,...bases$2};function fromString(n,t="utf8"){const i=BASES[t];if(!i)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?asUint8Array(globalThis.Buffer.from(n,"utf-8")):i.decoder.decode(`${i.prefix}${n}`)}const fromString$1=Object.freeze(Object.defineProperty({__proto__:null,fromString},Symbol.toStringTag,{value:"Module"})),require$$1$1=getAugmentedNamespace(fromString$1);var bucket,hasRequiredBucket;function requireBucket(){if(hasRequiredBucket)return bucket;hasRequiredBucket=1;const n=requireSparseArray(),{fromString:t}=require$$1$1;class i{constructor(u,h,p=0){this._options=u,this._popCount=0,this._parent=h,this._posAtParent=p,this._children=new n,this.key=null}async put(u,h){const p=await this._findNewBucketAndPos(u);await p.bucket._putAt(p,u,h)}async get(u){const h=await this._findChild(u);if(h)return h.value}async del(u){const h=await this._findPlace(u),p=h.bucket._at(h.pos);p&&p.key===u&&h.bucket._delAt(h.pos)}leafCount(){return this._children.compactArray().reduce((h,p)=>p instanceof i?h+p.leafCount():h+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const u=this._children.compactArray();for(const h of u)h instanceof i?yield*h.eachLeafSeries():yield h;return[]}serialize(u,h){const p=[];return h(this._children.reduce((y,D,m)=>(D&&(D instanceof i?y.push(D.serialize(u,h)):y.push(u(D,m))),y),p))}asyncTransform(u,h){return c(this,u,h)}toJSON(){return this.serialize(s,a)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(u){const h=await this._findPlace(u),p=h.bucket._at(h.pos);if(!(p instanceof i)&&p&&p.key===u)return p}async _findPlace(u){const h=this._options.hash(typeof u=="string"?t(u):u),p=await h.take(this._options.bits),y=this._children.get(p);return y instanceof i?y._findPlace(h):{bucket:this,pos:p,hash:h,existingChild:y}}async _findNewBucketAndPos(u){const h=await this._findPlace(u);if(h.existingChild&&h.existingChild.key!==u){const p=new i(this._options,h.bucket,h.pos);h.bucket._putObjectAt(h.pos,p);const y=await p._findPlace(h.existingChild.hash);return y.bucket._putAt(y,h.existingChild.key,h.existingChild.value),p._findNewBucketAndPos(h.hash)}return h}_putAt(u,h,p){this._putObjectAt(u.pos,{key:h,value:p,hash:u.hash})}_putObjectAt(u,h){this._children.get(u)||this._popCount++,this._children.set(u,h)}_delAt(u){if(u===-1)throw new Error("Invalid position");this._children.get(u)&&this._popCount--,this._children.unset(u),this._level()}_level(){if(this._parent&&this._popCount<=1)if(this._popCount===1){const u=this._children.find(f);if(u&&!(u instanceof i)){const h=u.hash;h.untake(this._options.bits);const p={pos:this._posAtParent,hash:h,bucket:this._parent};this._parent._putAt(p,u.key,u.value)}}else this._parent._delAt(this._posAtParent)}_at(u){return this._children.get(u)}}function f(e){return Boolean(e)}function s(e,u){return e.key}function a(e){return e}async function c(e,u,h){const p=[];for(const y of e._children.compactArray())if(y instanceof i)await c(y,u,h);else{const D=await u(y);p.push({bitField:e._children.bitField(),children:D})}return h(p)}return bucket=i,bucket}var consumableHashExports={},consumableHash={get exports(){return consumableHashExports},set exports(n){consumableHashExports=n}},consumableBuffer,hasRequiredConsumableBuffer;function requireConsumableBuffer(){if(hasRequiredConsumableBuffer)return consumableBuffer;hasRequiredConsumableBuffer=1;const n=[255,254,252,248,240,224,192,128],t=[1,3,7,15,31,63,127,255];consumableBuffer=class{constructor(a){this._value=a,this._currentBytePos=a.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+this._currentBytePos*8}totalBits(){return this._value.length*8}take(a){let c=a,e=0;for(;c&&this._haveBits();){const u=this._value[this._currentBytePos],h=this._currentBitPos+1,p=Math.min(h,c),y=i(u,h-p,p);e=(e<<p)+y,c-=p,this._currentBitPos-=p,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return e}untake(a){for(this._currentBitPos+=a;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}};function i(s,a,c){const e=f(a,c);return(s&e)>>>a}function f(s,a){return n[s]&t[Math.min(a+s-1,7)]}return consumableBuffer}function concat(n,t){t||(t=n.reduce((s,a)=>s+a.length,0));const i=allocUnsafe(t);let f=0;for(const s of n)i.set(s,f),f+=s.length;return asUint8Array(i)}const concat$1=Object.freeze(Object.defineProperty({__proto__:null,concat},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(concat$1);var hasRequiredConsumableHash;function requireConsumableHash(){if(hasRequiredConsumableHash)return consumableHashExports;hasRequiredConsumableHash=1;const n=requireConsumableBuffer(),{concat:t}=require$$1;function i(s){function a(c){return c instanceof f?c:new f(c,s)}return a}class f{constructor(a,c){if(!(a instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=a,this._hashFn=c,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(a){let c=a;for(;this._availableBits<c;)await this._produceMoreBits();let e=0;for(;c>0;){const u=this._buffers[this._currentBufferIndex],h=Math.min(u.availableBits(),c),p=u.take(h);e=(e<<h)+p,c-=h,this._availableBits-=h,u.availableBits()===0&&this._currentBufferIndex++}return e}untake(a){let c=a;for(;c>0;){const e=this._buffers[this._currentBufferIndex],u=Math.min(e.totalBits()-e.availableBits(),c);e.untake(u),c-=u,this._availableBits+=u,this._currentBufferIndex>0&&e.totalBits()===e.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;const a=this._depth?t([this._value,Uint8Array.from([this._depth])]):this._value,c=await this._hashFn(a),e=new n(c);this._buffers.push(e),this._availableBits+=e.availableBits()}}return consumableHash.exports=i,consumableHashExports.InfiniteHash=f,consumableHashExports}var src$1,hasRequiredSrc;function requireSrc(){if(hasRequiredSrc)return src$1;hasRequiredSrc=1;const n=requireBucket(),t=requireConsumableHash();function i(f){if(!f||!f.hashFn)throw new Error("please define an options.hashFn");const s={bits:f.bits||8,hash:t(f.hashFn)};return new n(s)}return src$1={createHAMT:i,Bucket:n},src$1}var dirSharded,hasRequiredDirSharded;function requireDirSharded(){if(hasRequiredDirSharded)return dirSharded;hasRequiredDirSharded=1;const{encode:n,prepare:t}=require$$0,{UnixFS:i}=requireSrc$1(),f=requireDir(),s=requirePersist(),{createHAMT:a,Bucket:c}=requireSrc();class e extends f{constructor(p,y){super(p,y),this._bucket=a({hashFn:y.hamtHashFn,bits:y.hamtBucketBits})}async put(p,y){await this._bucket.put(p,y)}get(p){return this._bucket.get(p)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async*eachChildSeries(){for await(const{key:p,value:y}of this._bucket.eachLeafSeries())yield{key:p,child:y}}async*flush(p){for await(const y of u(this._bucket,p,this,this.options))yield{...y,path:this.path}}}dirSharded=e;async function*u(h,p,y,D){const m=h._children,b=[];let d=0;for(let S=0;S<m.length;S++){const I=m.get(S);if(!I)continue;const k=S.toString(16).toUpperCase().padStart(2,"0");if(I instanceof c){let F;for await(const O of await u(I,p,null,D))F=O;if(!F)throw new Error("Could not flush sharded directory, no subshard found");b.push({Name:k,Tsize:F.size,Hash:F.cid}),d+=F.size}else if(typeof I.value.flush=="function"){const F=I.value;let O;for await(const H of F.flush(p))O=H,yield O;const M=k+I.key;b.push({Name:M,Tsize:O.size,Hash:O.cid}),d+=O.size}else{const F=I.value;if(!F.cid)continue;const O=k+I.key,M=F.size;b.push({Name:O,Tsize:M,Hash:F.cid}),d+=M}}const w=Uint8Array.from(m.bitField().reverse()),_=new i({type:"hamt-sharded-directory",data:w,fanout:h.tableSize(),hashType:D.hamtHashCode,mtime:y&&y.mtime,mode:y&&y.mode}),v={Data:_.marshal(),Links:b},C=n(t(v)),A=await s(C,p,D),T=C.length+d;yield{cid:A,unixfs:_,size:T}}return dirSharded}var flatToShard,hasRequiredFlatToShard;function requireFlatToShard(){if(hasRequiredFlatToShard)return flatToShard;hasRequiredFlatToShard=1;const n=requireDirSharded(),t=requireDirFlat();flatToShard=async function f(s,a,c,e){let u=a;a instanceof t&&a.directChildrenCount()>=c&&(u=await i(a,e));const h=u.parent;if(h){if(u!==a){if(s&&(s.parent=u),!u.parentKey)throw new Error("No parent key found");await h.put(u.parentKey,u)}return f(u,h,c,e)}return u};async function i(f,s){const a=new n({root:f.root,dir:!0,parent:f.parent,parentKey:f.parentKey,path:f.path,dirty:f.dirty,flat:!1,mtime:f.mtime,mode:f.mode},s);for await(const{key:c,child:e}of f.eachChildSeries())await a.put(c,e);return a}return flatToShard}var toPathComponents_1,hasRequiredToPathComponents;function requireToPathComponents(){return hasRequiredToPathComponents||(hasRequiredToPathComponents=1,toPathComponents_1=(t="")=>(t.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean)),toPathComponents_1}var treeBuilder_1,hasRequiredTreeBuilder;function requireTreeBuilder(){if(hasRequiredTreeBuilder)return treeBuilder_1;hasRequiredTreeBuilder=1;const n=requireDirFlat(),t=requireFlatToShard(),i=requireDir(),f=requireToPathComponents();async function s(e,u,h){const p=f(e.path||""),y=p.length-1;let D=u,m="";for(let b=0;b<p.length;b++){const d=p[b];m+=`${m?"/":""}${d}`;const w=b===y;if(D.dirty=!0,D.cid=void 0,D.size=void 0,w)await D.put(d,e),u=await t(null,D,h.shardSplitThreshold,h);else{let _=await D.get(d);(!_||!(_ instanceof i))&&(_=new n({root:!1,dir:!0,parent:D,parentKey:d,path:m,dirty:!0,flat:!0,mtime:_&&_.unixfs&&_.unixfs.mtime,mode:_&&_.unixfs&&_.unixfs.mode},h)),await D.put(d,_),D=_}}return u}async function*a(e,u){if(!(e instanceof i)){e&&e.unixfs&&e.unixfs.isDirectory()&&(yield e);return}yield*e.flush(u)}async function*c(e,u,h){let p=new n({root:!0,dir:!0,path:"",dirty:!0,flat:!0},h);for await(const y of e)y&&(p=await s(y,p,h),(!y.unixfs||!y.unixfs.isDirectory())&&(yield y));if(h.wrapWithDirectory)yield*a(p,u);else for await(const y of p.eachChildSeries())y&&(yield*a(y.child,u))}return treeBuilder_1=c,treeBuilder_1}const parallelBatch=itParallelBatch,defaultOptions=options;async function*importer(n,t,i={}){const f=defaultOptions(i);let s;typeof i.dagBuilder=="function"?s=i.dagBuilder:s=requireDagBuilder();let a;typeof i.treeBuilder=="function"?a=i.treeBuilder:a=requireTreeBuilder();let c;Symbol.asyncIterator in n||Symbol.iterator in n?c=n:c=[n];for await(const e of a(parallelBatch(s(c,t,f),f.fileImportConcurrency),t,f))yield{cid:e.cid,path:e.path,unixfs:e.unixfs,size:e.size}}var src={importer};const block={get:async n=>{throw new Error(`unexpected block API get for ${n}`)},put:async()=>{throw new Error("unexpected block API put")}};async function gencid(n,t){t=t||{},t.onlyHash=!0,typeof n=="string"&&(n=new TextEncoder().encode(n));let i;for await(const{cid:f}of src.importer([{content:n}],block,t))i=f;return`${i}`}exports.gencid=gencid,Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})});
